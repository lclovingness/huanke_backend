webpackJsonp([1],{"1C7D":function(e,t){},"1J62":function(e,t){},"4bFZ":function(e,t){Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},Array.prototype.in_array=function(e){for(i=0;i<this.length&&this[i]!=e;i++);return!(i==this.length)},Array.prototype.shuffle=function(){for(var e=this.length,t=void 0;e;){var a=[this[t=Math.random()*e-->>>0],this[e]];this[e]=a[0],this[t]=a[1]}return this},String.prototype.myReplace=function(e,t){var a=new RegExp(e,"g");return this.replace(a,t)},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}},"9Laf":function(e,t){},CvvX:function(e,t){},E2qn:function(e,t){},Edpw:function(e,t){},GxjS:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADeklEQVRYR7WXS+hVVRTGf18ZJpoNtNToQYYFIuWD0KSaaKNe1qTsISKENjIwAm1qFlFRTUoKQkKpQZDVrCAIegm9QVDMINOKgoi0l+WKT86R9d//e+4+9y+t2d3nW2t/e72vGEEiYgawCrgduAy4EAjgMHAAeB14TdIvfc2qDzAiLgE2A+uAsyo6fwMvAVslfVezXyUQEbcCrwBn14wV3/8E7pS0e5jeUAIRsRF4esSLS/gDkp7pstFJICJuAt4coHgIeBV4C/ii+b4QuBG4A7io0HGOrJL0xiASAwlExAVNUk1JSkeBNU40STY6TiLC9m4DdgDTEuAPYJ4kJ+sY6SKwE7grIf8ClkpqXzw0KhFhj3wETE7AnZLuqRKIiLnA1wVwg6Tto+RCRKwHni905kr6Jp+N80BEbAKeSKBvgUslnWjPImI28AJwTXP2IXCfpB8S5gzgIOASbmWTpKdqBN4GVibQFkmPJsPnNck3p3idL5+fm1BEbAEeSbh3JN1QI+CO5i7XymJJnyUCTjAn4yDZIWltwi4CPk3AA5Lm1QgcByYl0HRJvyWjPwEzOwj8LMkeOikRMR34NWGPScrVwaAccLlNTUpTJf2ejP4InN9B4LAkz4cuAkclnVPzwCfA4gRaJOnzCYbA5XgqfA6HpCU1Aq4AV0IrmyU9lgj49V8CswovfA9cJckhaj3gAbYt4Z6U9GCNgF9vL7TinnB5UYaugBeBZQ3ofWC9JJNoL3ceWffiZGuJpJyU43PA4IjYA1ydFO+XVDaVwgFjf0bEBuC5dLpH0tJSqasVrwZ2JbBb8fKSfReDiLAXPyha8WpJHutjpIvAmU39XpnQro57gd2VYeT94eViGH0FOJn/7UWgCcNywLEtxVuOx7HH697m44Ih49iQZZI+HuSx2kLiMDgcpyO7JN3dZaBGwNm+v3DnKGQcNlfQqeroHYIWeJpr2UZJzw5j3GcpNeY94NpRnt7kz3VdCdvaqhJoEtKhcPfrGkIlN88LZ32n60ci0JBYAXhXqJH2vrhC0rt9PFYzNsZGRHi58JIxTLZJerjP5caMSsD93fnQrmLlPV7Nrpf0z/9CoAmFp6FHrFf3LEeAhXka9iExkgdSaV4BuLOd25x56/Havq/PpRkzIQKNJ25u2rF/3iJp0L+oKp8JE2hIPHQykaTHqzd1AP4DkVsyMNN1JgoAAAAASUVORK5CYII="},LFvv:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={};a.d(i,"loading",function(){return P}),a.d(i,"theme",function(){return H});var n={};a.d(n,"getLoading",function(){return W}),a.d(n,"getTheme",function(){return $});var l=a("7+uW"),r={data:function(){return{comingSoonFlag:!0,path:"",username:"",hintTabWaringModel:!1,whereAddressIndex:null,tempAddIndex:-1}},watch:{"$route.path":function(){}},mounted:function(){"tasks"==window.localStorage.currentPath?this.whereAddressIndex=1:this.whereAddressIndex=0},methods:{goWhere:function(e){if("/open"==this.$route.path)return this.hintTabWaringModel=!0,void(this.tempAddIndex=e);this.$route.path.indexOf("refactor-task")>-1?this.$store.state.nextPlace=0==e?"/projects":"/tasks":(this.whereAddressIndex=e,0==e?this.$router.push("/soil_entrance"):1==e?this.$router.push("/water_entrance"):2==e&&this.$router.push("/config"))}}},s={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header1"},[t("div",{staticClass:"logo"},[t("img",{attrs:{src:a("GxjS")}}),this._v("\n    环科中心 · 土壤和地下水采样数据记录管理系统\n  ")]),this._v(" "),t("div",{attrs:{id:"adminInfo"}},[this._v("\n    版本号：1.0  （请由管理员操作）\n  ")])])}]};var o={name:"App",components:{"header-index":a("VU/8")(r,s,!1,function(e){a("E2qn")},"data-v-29f04ce7",null).exports},mounted:function(){this.neceInit(),this.trackWindowOnResize(),window.onresize=this.trackWindowOnResize},methods:{neceInit:function(){this.$store.state.soil_drill_template_table_fields=["id","template_table_name","update_date_time","record_person_name","neishen_signature","dikuai_name","dikuai_code","budian_person","budian_date","caiyang_date","caiyang_person","weather_info","dianwei_number","jingdu","weidu","caiyang_site","drill_person_name","drill_person_contact","drill_depth","drill_diameter","drill_method","drill_machine_model","chujian_water_level","zhikong_depth","arr_sample_number","arr_zuanjin_depth","arr_diceng_describe","arr_wuran_describe","arr_caiyang_depth"]},trackWindowOnResize:function(){this.$store.state.coreBlockAreaWidth=document.body.offsetWidth,null!=this.$refs.sonCore&&this.$refs.sonCore.echoParent()}}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"wrapper"},[t("header-index",{ref:"headerIndex",staticClass:"header-index"}),this._v(" "),t("div",{staticClass:"main clearfix",attrs:{id:"cc"}},[t("div",{staticClass:"con-main"},[t("router-view",{ref:"sonCore"})],1)])],1)])},staticRenderFns:[]};var _=a("VU/8")(o,d,!1,function(e){a("htW8")},null,null).exports,c=a("/ocq"),p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main_entrance"}},[a("div",{attrs:{id:"title"}},[e._v("\n    主分类入口\n  ")]),e._v(" "),a("div",{style:"left:"+e.bigEntranceBtnsContainerLeftEdge+"px",attrs:{id:"bigEntranceButtonsContainer"}},[a("span",{staticClass:"m-left-big-btn"},[a("Card",{staticStyle:{width:"220px",height:"180px"}},[a("div",{staticClass:"m-bigCard",on:{click:e.jumpSoilEntrance}},[a("img",{attrs:{src:"/static/soil.png"}}),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{"font-size":"28px","font-weight":"bold"}},[e._v("土壤")])])])],1),e._v(" "),a("span",{staticClass:"m-right-big-btn"},[a("Card",{staticStyle:{width:"220px",height:"180px"}},[a("div",{staticClass:"m-bigCard",on:{click:e.jumpWaterEntrance}},[a("img",{attrs:{src:"/static/water.png"}}),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{"font-size":"28px","font-weight":"bold"}},[e._v("地下水")])])])],1)])])},staticRenderFns:[]};var h=a("VU/8")({name:"Main",data:function(){return{bigEntranceBtnsContainerLeftEdge:-1}},mounted:function(){this.rearrangeUIAfterResizeShowArea()},methods:{echoParent:function(){this.rearrangeUIAfterResizeShowArea()},rearrangeUIAfterResizeShowArea:function(){this.bigEntranceBtnsContainerLeftEdge=(this.$store.state.coreBlockAreaWidth-800)/2},jumpSoilEntrance:function(){this.$router.push("/soil_entrance")},jumpWaterEntrance:function(){this.$router.push("/water_entrance")}}},p,!1,function(e){a("qgt5"),a("dGQn")},"data-v-39393e74",null).exports,m={name:"soil_entrance",data:function(){return{ifShowLoadingNowFlag:!0,table_column_arr:[],table_data_arr:[],tableLeftEdge:10,ifCreateOneNewRecordFlag:!1,recordsList:[],tableRealWidth:502,soilTableTypeIndex:-1,currentRequestTable:"",soil_drill_table_record_amount:3,soil_sample_gather_table_record_amount:1}},mounted:function(){var e=this;this.table_column_arr=[],this.table_column_arr.push({title:"表名",key:"tableName",width:300,align:"left",render:function(t,a){return t("span",{domProps:{innerHTML:a.row.tableName,title:"查看历史记录"},style:{cursor:"pointer",color:"#007FFF"},on:{click:function(){e.wantToViewRecords(""+a.row._index)}}})}}),this.table_column_arr.push({title:"已填写",key:"amount",width:100,align:"center"}),this.table_column_arr.push({title:"快速新建",key:"new",width:100,align:"center",render:function(t,a){return t("div",[t("Icon",{props:{type:"ios-create-outline",size:22},style:{cursor:"pointer"},on:{click:function(){e.wantToNewOneRecord(""+a.row._index)}}})])}}),this.requestPointedSoilTableRecordAmount("DC_Soil_Drill"),this.rearrangeUIAfterResizeShowArea()},methods:{echoParent:function(){this.rearrangeUIAfterResizeShowArea()},initReadyOK:function(){this.ifShowLoadingNowFlag=!1,this.table_data_arr=[],this.table_data_arr.push({tableName:"电子土壤钻孔记录表",amount:this.soil_drill_table_record_amount,new:"write"}),this.table_data_arr.push({tableName:"电子土壤样品采集现场记录表",amount:this.soil_sample_gather_table_record_amount,new:"write"})},wantToViewRecords:function(e){0==e?this.$router.push("/soil_list/"+e):alert("“电子土壤样品采集现场记录表” 暂时不开放查看存档记录")},wantToNewOneRecord:function(e){this.soilTableTypeIndex=e,this.soilTableTypeIndex>0?alert("“电子土壤样品采集现场记录表” 暂时不开放填写"):this.ifCreateOneNewRecordFlag=!0},rearrangeUIAfterResizeShowArea:function(){this.tableLeftEdge=(this.$store.state.coreBlockAreaWidth-this.tableRealWidth)/2,this.d("title").style.width=this.$store.state.coreBlockAreaWidth+"px",this.d("loadingEntityForSoilEntrance").style.left=(document.body.offsetWidth-this.d("loadingEntityForSoilEntrance").offsetWidth)/2+"px"},createRecord:function(){var e=this.d("newRecordNameTB").value.trim();""==e?(this.$Message.info("请输入有效的采样记录名称"),setTimeout(this.atOnceReShow,0)):this.repeatNameJudgement(e)?(this.$Message.info("该名称已存在，请重新命名"),setTimeout(this.atOnceReShow,0)):-1!=escape(e).indexOf("%u")&&e.length>20?(alert("采样记录命名请不要超过20个汉字的长度"),setTimeout(this.atOnceReShow,0)):e.length>30?(alert("采样记录命名请不要超过30个英文半角字符的长度"),setTimeout(this.atOnceReShow,0)):(this.$store.state.recordName=e,this.$store.state.currentSelectedRecordID=0,this.$router.push("/edit_soil_drill_record/0"))},cancelCreateRecordQuit:function(){},atOnceReShow:function(){this.ifCreateOneNewRecordFlag=!0},repeatNameJudgement:function(e){for(var t=this.recordsList.length,a=!1,i=0;i<t;i++)if(null!=this.recordsList[i].record_name&&this.recordsList[i].record_name==e){a=!0;break}return a},requestPointedSoilTableRecordAmount:function(e){var t=this;this.currentRequestTable=e;var a=new URLSearchParams;a.append("which_one_table",e),this.axios({method:"post",url:"http://huankepy.neuseer.cn/get_one_soil_table_record_amount",data:a}).then(function(e){var a=Number(JSON.parse(e.data.result));"DC_Soil_Drill"==t.currentRequestTable?(t.soil_drill_table_record_amount=a,t.requestPointedSoilTableRecordAmount("DC_Soil_Sample_Gather")):"DC_Soil_Sample_Gather"==t.currentRequestTable&&(t.soil_sample_gather_table_record_amount=a,t.initReadyOK())}).catch(function(e){console.log("access py error: "+e),t.initReadyOK()})}}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"soil_entrance"}},[a("Breadcrumb",{staticStyle:{"text-align":"left","margin-left":"130px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",[e._v("土壤类记录表")])],1),e._v(" "),a("div",{attrs:{id:"title"}},[e._v("\n    土壤类记录表\n  ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag,expression:"!ifShowLoadingNowFlag"}],attrs:{id:"itemsList"}},[a("Table",{style:"left:"+e.tableLeftEdge+"px;",attrs:{size:"large",width:e.tableRealWidth,border:"",columns:e.table_column_arr,data:e.table_data_arr}})],1),e._v(" "),a("Modal",{staticClass:"vertical-center-modal",attrs:{title:"新建一个采样记录",width:"360"},on:{"on-ok":e.createRecord,"on-cancel":e.cancelCreateRecordQuit},model:{value:e.ifCreateOneNewRecordFlag,callback:function(t){e.ifCreateOneNewRecordFlag=t},expression:"ifCreateOneNewRecordFlag"}},[a("div",{staticClass:"m-input-record-name-box"},[a("div",[a("input",{staticClass:"input-newRecordNameTB",attrs:{type:"text",placeholder:"请输入记录名字...",id:"newRecordNameTB",onfocus:"this.placeholder='';",onblur:"this.value==''?this.placeholder='请输入记录名字...':this.placeholder='';"}})])])]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForSoilEntrance"}})],1)},staticRenderFns:[]};var g=a("VU/8")(m,u,!1,function(e){a("CvvX")},"data-v-4d154983",null).exports,v={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"soil_entrance"}},[a("div",{attrs:{id:"title"}},[e._v("\n   地下水类采样记录表\n  ")]),e._v(" "),a("br"),e._v(" "),a("div",{attrs:{id:"itemsList"}},[e._v("\n    ( 展现形式和土壤类的一致，请先看土壤的，试用确认好后，会统一优化 ）\n  ")]),e._v(" "),a("div",{attrs:{id:"tempBtn"}},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.$router.back(-1)}}},[e._v("返回")])],1)])},staticRenderFns:[]};var f=a("VU/8")({name:"water_entrance"},v,!1,function(e){a("ifZ3")},"data-v-b9b78d08",null).exports,b={name:"soil_list",data:function(){return{ifShowLoadingNowFlag:!0,table_column_arr:[],table_data_arr:[],tableLeftEdge:10,tableRealWidth:983,showDelPopupBesureBoxFlag:!1,hintIFDelOneOrSomeRecordsWord:"",ifCreateOneNewRecordFlag:!1,recordsList:[],latestBreadHere:"",deletedAmount:0}},mounted:function(){var e=this;this.soilTableTypeIndex=Number(this.$route.params.id),0==this.soilTableTypeIndex?this.latestBreadHere="电子土壤钻孔记录表":1==this.soilTableTypeIndex&&(this.latestBreadHere="电子土壤样品采集现场记录表"),this.table_column_arr=[],this.table_column_arr.push({type:"selection",width:50,align:"center"}),this.table_column_arr.push({title:"记录名称",key:"name",width:350,align:"left",render:function(t,a){return t("span",{domProps:{innerHTML:a.row.name,title:"点击查看详情"},style:{cursor:"pointer",color:"#007FFF"},on:{click:function(){e.viewOneRecord(""+a.row._index)}}})}}),this.table_column_arr.push({title:"创建记录的时间",key:"create_dt",width:200,align:"center"}),this.table_column_arr.push({title:"记录人",key:"person",width:100,align:"center"}),this.table_column_arr.push({title:"照片",key:"photo",width:80,align:"center"}),this.table_column_arr.push({title:"最新编辑的时间",key:"edit_dt",width:200,align:"center"}),this.rearrangeUIAfterResizeShowArea(),this.requestDBForBasicData()},methods:{readyForShowTemplateList:function(){this.$router.push("/template/list/soil_drill_template_list/"+this.soilTableTypeIndex)},echoParent:function(){this.rearrangeUIAfterResizeShowArea()},initStaticDataDemo:function(){this.table_data_arr=[],this.table_data_arr.push({name:"红桥区二号院实地勘测",create_dt:"2018-07-05 15:30",person:"朱小雨",photo:"有",edit_dt:"2018-07-05 18:06",id:1001}),this.table_data_arr.push({name:"邕江支流拐弯处108号口岸附近采样",create_dt:"2018-07-07 14:00",person:"聂佳琳",photo:"无",edit_dt:"2018-07-07 17:21",id:1002}),this.table_data_arr.push({name:"龙湖工业园C区土壤采点",create_dt:"2018-07-09 11:00",person:"张卫",photo:"有",edit_dt:"2018-07-10 2:10",id:1003})},requestDBForBasicData:function(){var e=this;this.table_data_arr=[];var t=new URLSearchParams;t.append("username",""),this.axios({method:"post",url:"http://huankepy.neuseer.cn/select_soil_drill_table",data:t}).then(function(t){if("[]"==t.data.result);else for(var a=JSON.parse(t.data.result),i=a.length,n=["id","record_table_name","record_person_name","record_date","first_submit_time","latest_save_time","neishen_signature","dikuai_name","dikuai_code","budian_person","budian_date","caiyang_date","caiyang_person","weather_info","dianwei_number","jingdu","weidu","caiyang_site","drill_person_name","drill_person_contact","drill_depth","drill_diameter","drill_method","drill_machine_model","chujian_water_level","zhikong_depth","arr_sample_number","arr_zuanjin_depth","arr_diceng_describe","arr_wuran_describe","arr_caiyang_depth","arr_photo_filepath","arr_photo_comment","arr_photo_datetime"],l=0;l<i;l++)e.table_data_arr.push({name:a[l][n.indexOf("record_table_name")],create_dt:a[l][n.indexOf("first_submit_time")],person:a[l][n.indexOf("record_person_name")],photo:e.judgeIFHavePhoto(a[l][n.indexOf("arr_photo_filepath")]),edit_dt:a[l][n.indexOf("latest_save_time")],id:a[l][n.indexOf("id")]});e.initReadyOK()}).catch(function(t){console.log("access py error: "+t),e.initStaticDataDemo(),e.initReadyOK()})},judgeIFHavePhoto:function(e){e.split("**");return""==e?"无":1==e.length&&""==e[0]?"无":"有"},ok_del:function(){this.execDeleteRecordHandler()},cancel_del:function(){},initReadyOK:function(){this.ifShowLoadingNowFlag=!1},viewOneRecord:function(e){var t=this.table_data_arr[e].id;this.$store.state.currentSelectedRecordID=t,console.log("recordID="+t),0==this.soilTableTypeIndex?this.$router.push("/view_soil_drill_record/"+t):1==this.soilTableTypeIndex&&alert("查看电子土壤样品采集现场记录表的某一记录：稍后开放")},execDeleteRecordHandler:function(){var e=this,t=this.$refs.recordTable.getSelection();this.deletedAmount=0;for(var a=0;a<t.length;a++){var i=new URLSearchParams;i.append("record_id",t[a].id),this.axios({method:"post",url:"http://huankepy.neuseer.cn/delete_soil_drill_record",data:i}).then(function(a){e.deletedAmount++,e.deletedAmount==t.length&&(alert("已删除完成！"),e.requestDBForBasicData())}).catch(function(e){})}},readyForDelRecords:function(){0==this.$refs.recordTable.getSelection().length?alert("请勾选至少一条记录"):(1==this.$refs.recordTable.getSelection().length?this.hintIFDelOneOrSomeRecordsWord="确定要删除该条记录吗？":this.$refs.recordTable.getSelection().length>1&&(this.hintIFDelOneOrSomeRecordsWord="确定要删除这几条记录吗？"),this.showDelPopupBesureBoxFlag=!0)},createOneNewRecord:function(){this.ifCreateOneNewRecordFlag=!0},rearrangeUIAfterResizeShowArea:function(){this.tableLeftEdge=(this.$store.state.coreBlockAreaWidth-this.tableRealWidth)/2,this.d("loadingEntityForSoilList").style.left=(document.body.offsetWidth-this.d("loadingEntityForSoilList").offsetWidth)/2+"px"},createRecord:function(){var e=this.d("newRecordNameTB").value.trim();""==e?(this.$Message.info("请输入有效的采样记录名称"),setTimeout(this.atOnceReShow,0)):this.repeatNameJudgement(e)?(this.$Message.info("该名称已存在，请重新命名"),setTimeout(this.atOnceReShow,0)):-1!=escape(e).indexOf("%u")&&e.length>20?(alert("采样记录命名请不要超过20个汉字的长度"),setTimeout(this.atOnceReShow,0)):e.length>30?(alert("采样记录命名请不要超过30个英文半角字符的长度"),setTimeout(this.atOnceReShow,0)):(this.$store.state.recordName=e,this.$store.state.currentSelectedRecordID=0,0==this.soilTableTypeIndex?this.$router.push("/edit_soil_drill_record/0"):1==this.soilTableTypeIndex&&alert("“电子土壤样品采集现场记录表” 暂时不开放填写"))},repeatNameJudgement:function(e){this.recordsList[0]={},this.recordsList[0].record_name="e";for(var t=this.recordsList.length,a=!1,i=0;i<t;i++)if(null!=this.recordsList[i].record_name&&this.recordsList[i].record_name==e){a=!0;break}return a},atOnceReShow:function(){this.ifCreateOneNewRecordFlag=!0},cancelCreateRecordQuit:function(){}}},w={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"soil_list"}},[a("Breadcrumb",{staticStyle:{"text-align":"left","margin-left":"100px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_entrance"}},[e._v("土壤类记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_list/0"}},[e._v(e._s(e.latestBreadHere))])],1),e._v(" "),a("div",{attrs:{id:"templateRegion"}},[a("span",[a("Button",{attrs:{type:"success"},on:{click:function(t){e.readyForShowTemplateList()}}},[e._v("显示模板列表")]),e._v("     \n       ")],1)]),e._v(" "),a("div",{attrs:{id:"zhuankong_title"}},[e._v("\n    "+e._s(e.latestBreadHere)+"\n  ")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&e.table_data_arr.length>0,expression:"!ifShowLoadingNowFlag && table_data_arr.length>0"}],attrs:{id:"soilList"}},[a("Table",{ref:"recordTable",style:"left:"+e.tableLeftEdge+"px;",attrs:{size:"large",border:"",width:e.tableRealWidth,columns:e.table_column_arr,data:e.table_data_arr}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&e.table_data_arr.length>0,expression:"!ifShowLoadingNowFlag && table_data_arr.length>0"}],style:"margin-left:"+e.tableLeftEdge+"px;",attrs:{id:"delBtn"}},[a("Button",{on:{click:e.readyForDelRecords}},[e._v("删除记录")]),e._v(" "),a("div",{style:"position:relative;display:inline-block;float:right;right:"+e.tableLeftEdge+"px;",attrs:{id:"createBtn"}},[a("Button",{on:{click:e.createOneNewRecord}},[e._v("创建新记录")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&0==e.table_data_arr.length,expression:"!ifShowLoadingNowFlag && table_data_arr.length==0"}],attrs:{id:"noRecordHint"}},[e._v("（暂无记录）")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&0==e.table_data_arr.length,expression:"!ifShowLoadingNowFlag && table_data_arr.length==0"}],attrs:{id:"createBtnTwin"}},[a("Button",{on:{click:e.createOneNewRecord}},[e._v("创建新记录")])],1),e._v(" "),a("Modal",{attrs:{width:"400",title:"温馨提示"},on:{"on-ok":e.ok_del,"on-cancel":e.cancel_del},model:{value:e.showDelPopupBesureBoxFlag,callback:function(t){e.showDelPopupBesureBoxFlag=t},expression:"showDelPopupBesureBoxFlag"}},[a("p",{staticClass:"m-popup-modal"},[e._v(e._s(e.hintIFDelOneOrSomeRecordsWord))])]),e._v(" "),a("Modal",{staticClass:"vertical-center-modal",attrs:{title:"新建一个采样记录",width:"360"},on:{"on-ok":e.createRecord,"on-cancel":e.cancelCreateRecordQuit},model:{value:e.ifCreateOneNewRecordFlag,callback:function(t){e.ifCreateOneNewRecordFlag=t},expression:"ifCreateOneNewRecordFlag"}},[a("div",{staticClass:"m-input-record-name-box"},[a("div",[a("input",{staticClass:"input-newRecordNameTB",attrs:{type:"text",placeholder:"请输入记录名字...",id:"newRecordNameTB",onfocus:"this.placeholder='';",onblur:"this.value==''?this.placeholder='请输入记录名字...':this.placeholder='';"}})])])]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForSoilList"}})],1)},staticRenderFns:[]};var y=a("VU/8")(b,w,!1,function(e){a("oGtf"),a("1J62")},"data-v-97472b5a",null).exports,S=a("bOdI"),x=a.n(S),C={name:"edit_soil_drill_record",data:function(){var e;return e={ifCreateOneNewTemplateFlag:!1,defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar"},{name:"bc7521e033abdd1e92222d733590f104",url:"https://o5wwk8baw.qnssl.com/bc7521e033abdd1e92222d733590f104/avatar"}],uploadList:[],forbiddenViewTheSelectedTemplateFlag:!0,ifShowLoadingNowFlag:!0,ifRecordNameEditFlag:!1,ifShowImageFlag:!1,currentFillInStatusHint:"",openTheDatePickPanelFlag:!1,table_column_arr:[],table_data_arr:[],tableLeftEdge:0,tableRealWidth:743,record_date:"",dikuai_name:"",dikuai_code:"",budian_person:"",budian_date:"",caiyang_date:"",caiyang_person:"",weather_info:"",dianwei_number:"",jingdu:"",weidu:"",caiyang_site:"",drill_person_name:"",drill_person_contact:"",drill_depth:"",drill_method:"",drill_diameter:"",drill_machine_model:"",chujian_water_level:"",zhikong_depth:"",record_person_name:"",neishen_signature:"",arr_sample_number:[],arr_zuanjin_depth:[],arr_diceng_describe:[],arr_wuran_describe:[],arr_caiyang_depth:[],arr_photo_filepath:[],arr_photo_comment:[],arr_photo_datetime:[],alreadyUploadedImagesList:[]},x()(e,"ifShowImageFlag",!1),x()(e,"imgShowContainerEdgeW",""),x()(e,"imgShowContainerRealWidth",960),x()(e,"imageRealShowWidth",""),x()(e,"imageRealShowHeight",""),x()(e,"currentShowImageURL",""),x()(e,"currentShowImageFileName",""),x()(e,"currentShowImageDateTime","(照片拍摄时间：2018-07-15 09:26)"),x()(e,"currentShowImageComment",""),x()(e,"imgShowContainerRealHeight",750),x()(e,"imgSelfShowFlag",!1),x()(e,"ifDeleteOneImageHintFlag",!1),x()(e,"currentShowImageIndex",-1),x()(e,"record_table_name",""),x()(e,"addtionLeftEdge",""),x()(e,"addtionRightEdge",""),x()(e,"addtionRightEdge",""),x()(e,"currentRecordId",""),x()(e,"first_submit_time",""),x()(e,"latest_save_time",""),x()(e,"hintDelImgIFInEditAlreadyRecordStatus",""),x()(e,"alreadyUploadedFileAmount",0),x()(e,"curBatchUploadListAmount",0),x()(e,"curNowUploadedOKCount",0),x()(e,"templateList",[]),x()(e,"selectedTemplateValue","(empty)"),x()(e,"hintTheConsequenceWhenApplyTemplateFlag",!1),e},mounted:function(){var e=this;document.body.scrollTop=0,window.scrollTo(0,0),this.initPreTemplateList(),this.uploadList=this.$refs.uploadEntity.fileList,this.alreadyUploadedFileAmount=this.uploadList.length,this.currentRecordId=Number(this.$route.params.id),this.alreadyUploadedImagesList=[],this.table_column_arr=[],this.table_column_arr[0]={title:"样品编号",key:"sample_number",width:100,align:"left",render:function(t,a){return t("div",[t("Input",{props:{value:e.arr_sample_number[a.row._index]},on:{"on-change":function(t){e.arr_sample_number[a.row._index]=t.target.value}}})])}},this.table_column_arr[1]={title:"钻进深度",key:"zuanjin_depth",border:!1,width:100,align:"center",children:[{title:"（m）",key:"zuanjin_depth",align:"center",width:100,render:function(t,a){return t("div",[t("Input",{props:{value:e.arr_zuanjin_depth[a.row._index]},on:{"on-change":function(t){e.arr_zuanjin_depth[a.row._index]=t.target.value}}})])}}]},this.table_column_arr[2]={title:"地层描述",key:"diceng_describe",width:220,children:[{title:"土质分类、密度、颜色、湿度",key:"diceng_describe",align:"center",width:220,render:function(t,a){return t("div",[t("Input",{props:{autosize:!0,type:"textarea",value:e.arr_diceng_describe[a.row._index]},on:{"on-change":function(t){e.arr_diceng_describe[a.row._index]=t.target.value}}})])}}],align:"center"},this.table_column_arr[3]={title:"污染描述",key:"wuran_describe",width:220,children:[{title:"气味、污染痕迹、油状物等",key:"wuran_describe",align:"center",width:220,render:function(t,a){return t("div",[t("Input",{props:{autosize:!0,type:"textarea",value:e.arr_wuran_describe[a.row._index]},on:{"on-change":function(t){e.arr_wuran_describe[a.row._index]=t.target.value}}})])}}],align:"center"},this.table_column_arr[4]={title:"采样深度",key:"caiyang_depth",width:100,align:"center",children:[{title:"（m）",key:"caiyang_depth",align:"center",width:100,render:function(t,a){return t("div",[t("Input",{props:{value:e.arr_caiyang_depth[a.row._index]},on:{"on-change":function(t){e.arr_caiyang_depth[a.row._index]=t.target.value}}})])}}]},this.table_data_arr=[],this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""}),this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""}),this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""}),0==this.currentRecordId?(this.currentFillInStatusHint="新建记录",this.record_table_name=this.$store.state.recordName,this.initReadyOK()):(this.currentFillInStatusHint="编辑已有记录",this.getPointedSoilDrillRecord()),this.rearrangeUIAfterResizeShowArea()},methods:{initPreTemplateList:function(){var e=this,t=new URLSearchParams;t.append("username",""),this.templateList=[],this.templateList[0]={},this.templateList[0].label="（空白模板）",this.templateList[0].value="(empty)",this.axios({method:"post",url:"http://huankepy.neuseer.cn/select_soil_drill_template",data:t}).then(function(t){if("[]"==t.data.result);else for(var a=JSON.parse(t.data.result),i=a.length,n=e.$store.state.soil_drill_template_table_fields,l=0;l<i;l++)e.templateList.push({label:a[l][n.indexOf("template_table_name")],value:a[l][n.indexOf("id")]})}).catch(function(t){console.log("access py error: "+t),e.initReadyOK()})},readyForApplySelectedTemplate:function(){this.hintTheConsequenceWhenApplyTemplateFlag=!0},ok_applyTemplate:function(){var e=this,t=new URLSearchParams;t.append("template_id",this.selectedTemplateValue),this.axios({method:"post",url:"http://huankepy.neuseer.cn/select_pointed_soil_drill_template",data:t}).then(function(t){var a=e.$store.state.soil_drill_template_table_fields,i=JSON.parse(t.data.result);e.record_person_name=i[0][a.indexOf("record_person_name")],e.neishen_signature=i[0][a.indexOf("neishen_signature")],e.dikuai_name=i[0][a.indexOf("dikuai_name")],e.dikuai_code=i[0][a.indexOf("dikuai_code")],e.budian_person=i[0][a.indexOf("budian_person")],e.budian_date=i[0][a.indexOf("budian_date")],e.caiyang_date=i[0][a.indexOf("caiyang_date")],e.caiyang_person=i[0][a.indexOf("caiyang_person")],e.weather_info=i[0][a.indexOf("weather_info")],e.dianwei_number=i[0][a.indexOf("dianwei_number")],e.jingdu=i[0][a.indexOf("jingdu")],e.weidu=i[0][a.indexOf("weidu")],e.caiyang_site=i[0][a.indexOf("caiyang_site")],e.drill_person_name=i[0][a.indexOf("drill_person_name")],e.drill_person_contact=i[0][a.indexOf("drill_person_contact")],e.drill_depth=i[0][a.indexOf("drill_depth")],e.drill_diameter=i[0][a.indexOf("drill_diameter")],e.drill_method=i[0][a.indexOf("drill_method")],e.drill_machine_model=i[0][a.indexOf("drill_machine_model")],e.chujian_water_level=i[0][a.indexOf("chujian_water_level")],e.zhikong_depth=i[0][a.indexOf("zhikong_depth")],e.arr_sample_number=i[0][a.indexOf("arr_sample_number")].split("**"),e.arr_zuanjin_depth=i[0][a.indexOf("arr_zuanjin_depth")].split("**"),e.arr_diceng_describe=i[0][a.indexOf("arr_diceng_describe")].split("**"),e.arr_wuran_describe=i[0][a.indexOf("arr_wuran_describe")].split("**"),e.arr_caiyang_depth=i[0][a.indexOf("arr_caiyang_depth")].split("**"),e.table_data_arr=[];for(var n=0;n<1;n++)e.table_data_arr.push({sample_number:e.arr_sample_number[n],zuanjin_depth:e.arr_zuanjin_depth[n],diceng_describe:e.arr_diceng_describe[n],wuran_describe:e.arr_wuran_describe[n],caiyang_depth:e.arr_caiyang_depth[n]});e.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""}),e.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""})})},cancel_applyTemplate:function(){},readyForViewAlreadyHaveTemplate:function(){var e=this.$router.resolve({name:"ViewSoilDrillTemplate",params:{id:this.selectedTemplateValue}});window.open(e.href,"_blank")},echoTemplateSelectHandler:function(){"(empty)"==this.selectedTemplateValue?this.forbiddenViewTheSelectedTemplateFlag=!0:this.forbiddenViewTheSelectedTemplateFlag=!1},createTemplate:function(){var e=this.d("newTemplateNameTB").value.trim();""==e?(this.$Message.info("请输入有效的模板名称"),setTimeout(this.atOnceReShow,0)):this.repeatNameJudgement(e)?(this.$Message.info("该模板名称已存在，请重新命名"),setTimeout(this.atOnceReShow,0)):-1!=escape(e).indexOf("%u")&&e.length>20?(alert("模板命名请不要超过20个汉字的长度"),setTimeout(this.atOnceReShow,0)):e.length>30?(alert("模板命名请不要超过30个英文半角字符的长度"),setTimeout(this.atOnceReShow,0)):(this.$store.state.currentTemplateName=e,this.$store.state.currentSelectedTemplateID=0,this.$router.push("/template/compile_soil_drill_template/0"))},repeatNameJudgement:function(e){for(var t=this.templateList.length,a=!1,i=0;i<t;i++)if(this.templateList[i].label==e){a=!0;break}return a},atOnceReShow:function(){this.ifCreateOneNewTemplateFlag=!0},cancelCreateTemplateQuit:function(){},onReadyForUploadFileStarter:function(){this.curNowUploadedOKCount=0,this.alreadyUploadedFileAmount=this.uploadList.length},echoParent:function(){this.rearrangeUIAfterResizeShowArea()},readyForCreateNewTemplate:function(){this.ifCreateOneNewTemplateFlag=!0},handleBeforeUpload:function(){this.curBatchUploadListAmount=this.uploadList.length+1-this.alreadyUploadedFileAmount,this.uploadFileNowFlag||(this.uploadFileNowFlag=!0,this.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:20}}),e("div","正在上传图片文件，请稍候...")])}}))},handleUploadFileSuccess:function(e,t){setTimeout(this.delayShowUploadOK,200,t)},delayShowUploadOK:function(e){this.alreadyUploadedImagesList.push({name:e.name,url:"http://huankepy.neuseer.cn/static/huanke/"+e.name,comment:e.name,dt:""}),this.curNowUploadedOKCount+=1,this.curNowUploadedOKCount==this.curBatchUploadListAmount&&(this.uploadFileNowFlag=!1,this.$Spin.hide(),setTimeout(function(){alert("所选择的图片文件全部上传成功！")},500))},initReadyOK:function(){this.ifShowLoadingNowFlag=!1},deleteOnePicHandler:function(e){this.currentShowImageFileName=this.alreadyUploadedImagesList[e].name,this.currentShowImageIndex=e,this.ifDeleteOneImageHintFlag=!0,0!=this.currentRecordId&&(this.hintDelImgIFInEditAlreadyRecordStatus="（提示：在记录表的底部点击保存填写内容后生效）")},getPointedSoilDrillRecord:function(){var e=this,t=new URLSearchParams;t.append("record_id",this.currentRecordId),this.axios({method:"post",url:"http://huankepy.neuseer.cn/select_pointed_soil_drill_record",data:t}).then(function(t){var a=["id","record_table_name","record_person_name","record_date","first_submit_time","latest_save_time","neishen_signature","dikuai_name","dikuai_code","budian_person","budian_date","caiyang_date","caiyang_person","weather_info","dianwei_number","jingdu","weidu","caiyang_site","drill_person_name","drill_person_contact","drill_depth","drill_diameter","drill_method","drill_machine_model","chujian_water_level","zhikong_depth","arr_sample_number","arr_zuanjin_depth","arr_diceng_describe","arr_wuran_describe","arr_caiyang_depth","arr_photo_filepath","arr_photo_comment","arr_photo_datetime"],i=JSON.parse(t.data.result);e.record_table_name=i[0][a.indexOf("record_table_name")],e.record_person_name=i[0][a.indexOf("record_person_name")],e.record_date=i[0][a.indexOf("record_date")],e.first_submit_time=i[0][a.indexOf("first_submit_time")],e.latest_save_time=i[0][a.indexOf("latest_save_time")],e.neishen_signature=i[0][a.indexOf("neishen_signature")],e.dikuai_name=i[0][a.indexOf("dikuai_name")],e.dikuai_code=i[0][a.indexOf("dikuai_code")],e.budian_person=i[0][a.indexOf("budian_person")],e.budian_date=i[0][a.indexOf("budian_date")],e.caiyang_date=i[0][a.indexOf("caiyang_date")],e.caiyang_person=i[0][a.indexOf("caiyang_person")],e.weather_info=i[0][a.indexOf("weather_info")],e.dianwei_number=i[0][a.indexOf("dianwei_number")],e.jingdu=i[0][a.indexOf("jingdu")],e.weidu=i[0][a.indexOf("weidu")],e.caiyang_site=i[0][a.indexOf("caiyang_site")],e.drill_person_name=i[0][a.indexOf("drill_person_name")],e.drill_person_contact=i[0][a.indexOf("drill_person_contact")],e.drill_depth=i[0][a.indexOf("drill_depth")],e.drill_diameter=i[0][a.indexOf("drill_diameter")],e.drill_method=i[0][a.indexOf("drill_method")],e.drill_machine_model=i[0][a.indexOf("drill_machine_model")],e.chujian_water_level=i[0][a.indexOf("chujian_water_level")],e.zhikong_depth=i[0][a.indexOf("zhikong_depth")],e.arr_sample_number=i[0][a.indexOf("arr_sample_number")].split("**"),e.arr_zuanjin_depth=i[0][a.indexOf("arr_zuanjin_depth")].split("**"),e.arr_diceng_describe=i[0][a.indexOf("arr_diceng_describe")].split("**"),e.arr_wuran_describe=i[0][a.indexOf("arr_wuran_describe")].split("**"),e.arr_caiyang_depth=i[0][a.indexOf("arr_caiyang_depth")].split("**"),e.arr_photo_filepath=i[0][a.indexOf("arr_photo_filepath")].split("**"),e.arr_photo_comment=i[0][a.indexOf("arr_photo_comment")].split("**"),e.arr_photo_datetime=i[0][a.indexOf("arr_photo_datetime")].split("**"),1==e.arr_photo_filepath.length&&""==e.arr_photo_filepath[0]&&(e.arr_photo_filepath=[],e.arr_photo_comment=[],e.arr_photo_datetime=[]),e.table_data_arr=[];for(var n=0;n<e.arr_sample_number.length;n++)e.table_data_arr.push({sample_number:e.arr_sample_number[n],zuanjin_depth:e.arr_zuanjin_depth[n],diceng_describe:e.arr_diceng_describe[n],wuran_describe:e.arr_wuran_describe[n],caiyang_depth:e.arr_caiyang_depth[n]});for(var l=0;l<3-e.arr_sample_number.length;l++)e.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""});e.alreadyUploadedImagesList=[];for(var r=0;r<e.arr_photo_filepath.length;r++){var s=e.arr_photo_filepath[r].split("/"),o=s[s.length-1];e.alreadyUploadedImagesList.push({name:o,url:e.arr_photo_filepath[r],comment:e.arr_photo_comment[r],dt:e.arr_photo_datetime[r]})}e.initReadyOK()}).catch(function(t){console.log("encounter db access error"),e.initStaticDataDemo(),e.initReadyOK()})},openViewOneImage:function(e){this.imgSelfShowFlag=!1;var t=this.alreadyUploadedImagesList[e];this.currentShowImageIndex=e,this.ifShowImageFlag=!0,this.currentShowImageFileName=t.name,""!=t.dt&&null!=t.dt?this.currentShowImageDateTime="（照片拍摄时间："+t.dt+"）":this.currentShowImageDateTime="",this.currentShowImageURL=t.url,this.currentShowImageComment=t.comment,this.imgObj=new Image,this.imgObj.src=this.currentShowImageURL,this.imgObj.onload=this.getImageLoadedHandler},del_one_image:function(){this.alreadyUploadedImagesList.splice(this.currentShowImageIndex,1),console.log("this.alreadyUploadedImagesList.length=="+this.alreadyUploadedImagesList.length),this.ifShowImageFlag=!1},not_del_one_image:function(){},getImageLoadedHandler:function(){var e=this.imgObj.width,t=this.imgObj.height,a=void 0,i=void 0;if(e>t)for(i=this.imgShowContainerRealWidth-100,a=Math.floor(t*i/e);a>this.imgShowContainerRealHeight-90;)a*=.9,i*=.9;else a=this.imgShowContainerRealHeight-95,i=Math.floor(e*a/t);this.imgObj.width=i,this.imgObj.height=a,this.imageRealShowWidth=i,this.imageRealShowHeight=a,this.imgSelfShowFlag=!0},saveFillInHandler:function(){this.insertOrUpdateSoilDrillTable()},handleChange:function(e){this.record_date=e},handleClear:function(){this.openTheDatePickPanelFlag=!1},handleOk:function(){this.openTheDatePickPanelFlag=!1},handleClick:function(){this.openTheDatePickPanelFlag=!this.openTheDatePickPanelFlag},closeImageShow:function(){this.ifShowImageFlag=!1,setTimeout(this.setScrollToBottom,10)},setScrollToBottom:function(){document.body.scrollTop=document.body.scrollHeight,window.scrollTo(0,document.body.scrollHeight)},rearrangeUIAfterResizeShowArea:function(){this.tableLeftEdge=(760-this.tableRealWidth)/2,this.imgShowContainerEdgeW=(document.body.offsetWidth-this.imgShowContainerRealWidth)/2,this.addtionLeftEdge=(document.body.offsetWidth-760)/2,this.addtionRightEdge=(document.body.offsetWidth-760)/2,this.imgShowContainerRealHeight=document.documentElement.clientHeight-60,this.d("loadingEntityForEditSoilDrillRecord").style.left=(document.body.offsetWidth-this.d("loadingEntityForEditSoilDrillRecord").offsetWidth)/2+"px"},initStaticDataDemo:function(){this.record_table_name="红桥区二号院实地勘测记录",this.dikuai_name="世界之窗地块A",this.dikuai_code="SZ0001",this.budian_person="朱小雨",this.budian_date="2018年7月1日",this.caiyang_date="2018年7月5日",this.caiyang_person="刘明凯",this.weather_info="多云转雷阵雨",this.dianwei_number="78613",this.jingdu="东经35度",this.weidu="北纬29度",this.caiyang_site="红桥区地质家属楼二号院内",this.drill_person_name="朱小雨",this.drill_person_contact="13526597896",this.drill_depth="10",this.drill_method="机械式钻井法",this.drill_diameter="150",this.drill_machine_model="一级钻机A08",this.chujian_water_level="36",this.zhikong_depth="19",this.record_person_name="朱小雨",this.neishen_signature="陈总办公室",this.neishen_signature222="陈总办公室222",this.record_date="2018年7月16日",this.alreadyUploadedImagesList=[],this.alreadyUploadedImagesList.push({name:"abcdefg.jpg",url:"/static/0.jpg",comment:"土层表面纹理",dt:"2018-07-13 11:10"}),this.alreadyUploadedImagesList.push({name:"uuuu1.jpg",url:"/static/1.jpg",comment:"13日白天阳光照射下的土",dt:"2018-07-15 15:27"}),this.alreadyUploadedImagesList.push({name:"uuuu2.jpg",url:"/static/2.jpg",comment:"红桥区二号院土地",dt:"2018-07-14 18:11"}),this.alreadyUploadedImagesList.push({name:"uuuu3.jpg",url:"/static/3.jpg",comment:"下雨过后的土壤",dt:"2018-07-09 20:10"}),this.alreadyUploadedImagesList.push({name:"uuuu4.jpg",url:"/static/4.jpg",comment:"团队合作",dt:"2018-07-08 09:10"}),this.alreadyUploadedImagesList.push({name:"uuuu5.jpg",url:"/static/5.jpg",comment:"砖红色的土层",dt:"2018-07-13 10:10"}),this.table_data_arr=[],this.table_data_arr.push({sample_number:"Y0021",zuanjin_depth:"21m",diceng_describe:"土质疏松，发黑，颗粒密度小",wuran_describe:"有不好的味道，黏糊糊的，估计已经变质一段时间",caiyang_depth:"37m"}),this.table_data_arr.push({sample_number:"Y0049",zuanjin_depth:"16m",diceng_describe:"土块很潮湿，浅黄色，长期被水浸泡，很软",wuran_describe:"未见污染，未见异样气味",caiyang_depth:"11m"}),this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""});for(var e=0;e<this.table_data_arr.length;e++)this.arr_sample_number.push(this.table_data_arr[e].sample_number),this.arr_zuanjin_depth.push(this.table_data_arr[e].zuanjin_depth),this.arr_diceng_describe.push(this.table_data_arr[e].diceng_describe),this.arr_wuran_describe.push(this.table_data_arr[e].wuran_describe),this.arr_caiyang_depth.push(this.table_data_arr[e].caiyang_depth);this.record_person_name="朱小雨",this.neishen_signature="陈总办公室",this.neishen_signature222="陈总办公室222"},insertOrUpdateSoilDrillTable:function(){var e=this,t=new URLSearchParams,a=void 0;0!=this.currentRecordId?(t.append("record_id",this.currentRecordId),a="/update_soil_drill_table"):(a="/insert_soil_drill_table",this.first_submit_time=(new Date).Format("yyyy-MM-dd hh:mm")),this.latest_save_time=(new Date).Format("yyyy-MM-dd hh:mm");var i=void 0;i=""==this.budian_date?"":new Date(this.budian_date).Format("yyyy-MM-dd");var n=void 0;n=""==this.caiyang_date?"":new Date(this.caiyang_date).Format("yyyy-MM-dd"),this.arr_photo_filepath=[],this.arr_photo_comment=[],this.arr_photo_datetime=[];for(var l=0;l<this.alreadyUploadedImagesList.length;l++)this.arr_photo_filepath.push(this.alreadyUploadedImagesList[l].url),this.arr_photo_comment.push(this.alreadyUploadedImagesList[l].comment),this.arr_photo_datetime.push(this.alreadyUploadedImagesList[l].dt);t.append("record_table_name",this.record_table_name),t.append("record_person_name",this.record_person_name),t.append("record_date",""==this.record_date?"（未填写）":this.record_date),t.append("first_submit_time",this.first_submit_time),t.append("latest_save_time",this.latest_save_time),t.append("neishen_signature",this.neishen_signature),t.append("dikuai_name",this.dikuai_name),t.append("dikuai_code",this.dikuai_code),t.append("budian_person",this.budian_person),t.append("budian_date",i),t.append("caiyang_date",n),t.append("caiyang_person",this.caiyang_person),t.append("weather_info",this.weather_info),t.append("dianwei_number",this.dianwei_number),t.append("jingdu",this.jingdu),t.append("weidu",this.weidu),t.append("caiyang_site",this.caiyang_site),t.append("drill_person_name",this.drill_person_name),t.append("drill_person_contact",this.drill_person_contact),t.append("drill_depth",this.drill_depth),t.append("drill_diameter",this.drill_diameter),t.append("drill_method",this.drill_method),t.append("drill_machine_model",this.drill_machine_model),t.append("chujian_water_level",this.chujian_water_level),t.append("zhikong_depth",this.zhikong_depth),t.append("arr_sample_number",this.arr_sample_number.join("**")),t.append("arr_zuanjin_depth",this.arr_zuanjin_depth.join("**")),t.append("arr_diceng_describe",this.arr_diceng_describe.join("**")),t.append("arr_wuran_describe",this.arr_wuran_describe.join("**")),t.append("arr_caiyang_depth",this.arr_caiyang_depth.join("**")),t.append("arr_diceng_describe",this.arr_diceng_describe.join("**")),t.append("arr_wuran_describe",this.arr_wuran_describe.join("**")),t.append("arr_caiyang_depth",this.arr_caiyang_depth.join("**")),t.append("arr_photo_filepath",this.arr_photo_filepath.join("**")),t.append("arr_photo_comment",this.arr_photo_comment.join("**")),t.append("arr_photo_datetime",this.arr_photo_datetime.join("**")),this.axios({method:"post",url:"http://huankepy.neuseer.cn"+a,data:t}).then(function(t){0!=e.$store.state.currentSelectedRecordID||t.data.result>0&&(e.$store.state.currentSelectedRecordID=t.data.result,e.currentRecordId=t.data.result),alert("保存成功，点击确定查看"),e.$router.push("/view_soil_drill_record/"+e.currentRecordId)}).catch(function(e){alert("写入数据表失败"),console.log("insert data to mysql error: "+e)})}}},F={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"edit_soil_drill_record"}},[a("Breadcrumb",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],staticStyle:{"text-align":"left","margin-left":"50px","margin-bottom":"-20px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_entrance"}},[e._v("土壤类记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_list/0"}},[e._v("电子土壤钻孔记录表")]),e._v(" "),a("BreadcrumbItem",[e._v("填写记录")])],1),e._v(" "),a("div",{attrs:{id:"templateRegion"}},[a("span",[a("Button",{attrs:{type:"success"},on:{click:function(t){e.readyForCreateNewTemplate()}}},[e._v("新建模板\n    ")]),e._v("     \n       ")],1),e._v(" "),a("span",{staticStyle:{border:"1px dashed #777777",padding:"10px"}},[a("span",[e._v("选择模板：\n      "),a("Select",{staticStyle:{width:"auto"},attrs:{size:"small"},on:{"on-change":function(t){e.echoTemplateSelectHandler()}},model:{value:e.selectedTemplateValue,callback:function(t){e.selectedTemplateValue=t},expression:"selectedTemplateValue"}},e._l(e.templateList,function(t){return a("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}))],1),e._v(" "),a("span",[e._v("     "),a("Button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.readyForApplySelectedTemplate()}}},[e._v("应用此模板\n    ")]),e._v("     \n       ")],1),a("Button",{attrs:{size:"small",type:"success",disabled:e.forbiddenViewTheSelectedTemplateFlag},on:{click:function(t){e.readyForViewAlreadyHaveTemplate()}}},[e._v("查看此模板\n  ")])],1)]),e._v(" "),a("div",{attrs:{id:"newTableTitleHint"}},[e._v("\n    填写电子土壤钻孔记录表\n  ")]),e._v(" "),a("div",{style:"left:"+e.addtionLeftEdge+"px",attrs:{id:"record_table_nameContainer"}},[e._v("\n    ◆ 记录表名称：\n    "),e.ifRecordNameEditFlag?a("span",{staticStyle:{color:"#b00a1a",display:"inline-block"}},[a("Input",{staticStyle:{width:"250px"},attrs:{size:"small"},model:{value:e.record_table_name,callback:function(t){e.record_table_name=t},expression:"record_table_name"}})],1):a("span",{staticStyle:{color:"#b00a1a"}},[e._v(e._s(e.record_table_name))]),e._v(" "),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.ifRecordNameEditFlag=!e.ifRecordNameEditFlag}}},[e._v("  "),a("Icon",{attrs:{title:e.ifRecordNameEditFlag?"点击锁定确认更改":"点击更名",type:e.ifRecordNameEditFlag?"locked":"edit"}})],1)]),e._v(" "),a("div",{style:"right:"+e.addtionRightEdge+"px",attrs:{id:"currentFillInStatusHintContainer"}},[e._v("\n    ◆ 当前状态："),a("span",{staticStyle:{color:"#b00a1a"}},[e._v(e._s(e.currentFillInStatusHint))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],attrs:{id:"fillInContent"}},[a("hr",{staticStyle:{"margin-top":"30px",height:"1px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("1、基本信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("地块名称：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.dikuai_name,callback:function(t){e.dikuai_name=t},expression:"dikuai_name"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("地块编码：")]),e._v(" "),a("span",[a("Input",{staticStyle:{"font-size":"16px",width:"200px"},attrs:{size:"default"},model:{value:e.dikuai_code,callback:function(t){e.dikuai_code=t},expression:"dikuai_code"}})],1)]),e._v(" "),a("div",[a("span",{staticClass:"m-span-label"},[e._v("布点人员：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.budian_person,callback:function(t){e.budian_person=t},expression:"budian_person"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("布点日期：")]),e._v(" "),a("span",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:e.budian_date,format:"yyyy年M月d日",type:"date",placeholder:"（请点击选择）"},model:{value:e.budian_date,callback:function(t){e.budian_date=t},expression:"budian_date"}})],1)]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("2、点位信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("采样日期：")]),e._v(" "),a("span",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:e.caiyang_date,format:"yyyy年M月d日",type:"date",placeholder:"（请点击选择）"},model:{value:e.caiyang_date,callback:function(t){e.caiyang_date=t},expression:"caiyang_date"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("采样人员：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.caiyang_person,callback:function(t){e.caiyang_person=t},expression:"caiyang_person"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("天气：")]),e._v(" "),a("span",[a("Select",{staticStyle:{width:"85px"},attrs:{size:"large"},model:{value:e.weather_info,callback:function(t){e.weather_info=t},expression:"weather_info"}},[a("Option",{key:"sunshine",attrs:{value:"晴天"}},[e._v("晴 天")]),e._v(" "),a("Option",{key:"rainy",attrs:{value:"雨天"}},[e._v("雨 天")]),e._v(" "),a("Option",{key:"cloudy",attrs:{value:"阴天"}},[e._v("阴 天")])],1)],1),e._v(" "),a("span",{staticClass:"m-hp-center-specifal"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("点位编号：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.dianwei_number,callback:function(t){e.dianwei_number=t},expression:"dianwei_number"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("经度：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.jingdu,callback:function(t){e.jingdu=t},expression:"jingdu"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("纬度：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.weidu,callback:function(t){e.weidu=t},expression:"weidu"}})],1)]),e._v(" "),a("div",{staticClass:"m-single"},[a("span",{staticClass:"m-span-label"},[e._v("采样地点：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"400px"},attrs:{size:"default"},model:{value:e.caiyang_site,callback:function(t){e.caiyang_site=t},expression:"caiyang_site"}})],1)]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("3、钻孔信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔负责人：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_person_name,callback:function(t){e.drill_person_name=t},expression:"drill_person_name"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("联系方式：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_person_contact,callback:function(t){e.drill_person_contact=t},expression:"drill_person_contact"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔深度(m)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_depth,callback:function(t){e.drill_depth=t},expression:"drill_depth"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻孔直径(mm)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_diameter,callback:function(t){e.drill_diameter=t},expression:"drill_diameter"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔方法：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_method,callback:function(t){e.drill_method=t},expression:"drill_method"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻机型号：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_machine_model,callback:function(t){e.drill_machine_model=t},expression:"drill_machine_model"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("初见水位(m)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.chujian_water_level,callback:function(t){e.chujian_water_level=t},expression:"chujian_water_level"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("止孔深度(m)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.zhikong_depth,callback:function(t){e.zhikong_depth=t},expression:"zhikong_depth"}})],1)]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("4、钻进操作记录")]),e._v(" "),a("div",{attrs:{id:"drillOperateRecordList"}},[a("Table",{ref:"operateRecordTable",style:"left:"+e.tableLeftEdge+"px;",attrs:{size:"large",border:"",width:e.tableRealWidth,columns:e.table_column_arr,data:e.table_data_arr}})],1),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("【附件】：拍摄照片列表")]),e._v(" "),a("div",{staticClass:"m-uploadfiles-btn",on:{click:e.onReadyForUploadFileStarter}},[a("Upload",{ref:"uploadEntity",staticStyle:{"font-size":"14px"},attrs:{size:"large",multiple:"","show-upload-list":!1,"before-upload":e.handleBeforeUpload,"on-success":e.handleUploadFileSuccess,action:"http://huankepy.neuseer.cn/upload"}},[a("Button",{attrs:{type:"default",size:"large",icon:"ios-cloud-upload-outline"}},[e._v("点击上传图片")]),e._v("   （注意：可同时选择多个文件。为了保证传输稳定，建议每次上传最多不超过 8 个文件。）")],1)],1),e._v(" "),a("div",{staticClass:"m-picList"},e._l(e.alreadyUploadedImagesList,function(t,i){return a("div",{staticClass:"m-picSingleInfoLine",attrs:{id:"pic_"+(i+1)}},[a("span",{staticClass:"m-picfilename"},[a("Icon",{staticStyle:{cursor:"pointer","vertical-align":"middle"},attrs:{type:"ios-close-circle-outline",size:"24",color:"#0000ff",title:"点击删除图片"},on:{click:function(t){e.deleteOnePicHandler(i)}}}),e._v("  "+e._s(i+1)+"、添加图片说明："),a("Input",{staticStyle:{width:"290px",display:"inline-block"},attrs:{size:"small"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1),e._v(" "),a("span",{staticClass:"m-viewpic"},[a("Button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.openViewOneImage(i)}}},[e._v("点击预览图片")])],1)])})),e._v(" "),a("div",{staticClass:"m-placeholder"},[e._v("  ")]),e._v(" "),a("hr",{staticStyle:{position:"relative","margin-top":"20px","margin-bottom":"20px",height:"2px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("钻孔负责人：")]),e._v(" "),a("span",[a("Input",{ref:"drill_twin_input",staticStyle:{width:"100px",display:"inline-block"},attrs:{size:"default"},model:{value:e.drill_person_name,callback:function(t){e.drill_person_name=t},expression:"drill_person_name"}})],1)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("记录人：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"100px",display:"inline-block"},attrs:{size:"default"},model:{value:e.record_person_name,callback:function(t){e.record_person_name=t},expression:"record_person_name"}})],1)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("采样单位的内审签名：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px",display:"inline-block"},attrs:{size:"default"},model:{value:e.neishen_signature,callback:function(t){e.neishen_signature=t},expression:"neishen_signature"}})],1)]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-inscribe-date"},[e._v("填表日期：\n      "),a("span",[a("DatePicker",{attrs:{open:e.openTheDatePickPanelFlag,value:e.record_date,confirm:"",type:"date"},on:{"on-change":e.handleChange,"on-clear":e.handleClear,"on-ok":e.handleOk}},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:e.handleClick}},[a("Icon",{directives:[{name:"show",rawName:"v-show",value:""===e.record_date,expression:"record_date === ''"}],attrs:{type:"calendar"}}),e._v(" "),""===e.record_date?[e._v("点击选择")]:[e._v(e._s(e.record_date))]],2)])],1)]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",[a("Button",{attrs:{type:"primary",size:"large"},on:{click:e.saveFillInHandler}},[e._v("保存填写内容")])],1),e._v(" "),a("br"),e._v(" "),a("br")]),e._v(" "),a("Card",{directives:[{name:"show",rawName:"v-show",value:e.ifShowImageFlag,expression:"ifShowImageFlag"}],style:"background-color:#eeeeee;z-index:100;width:"+e.imgShowContainerRealWidth+"px;height:"+e.imgShowContainerRealHeight+"px;position:fixed;top:50px;left:"+e.imgShowContainerEdgeW+"px;",attrs:{shadow:""}},[a("div",{staticStyle:{position:"relative"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticClass:"u-imgBasicInfo"},[e._v("图片文件名："+e._s(e.currentShowImageFileName)+"      "+e._s(e.currentShowImageDateTime)+"    "),a("Icon",{staticStyle:{cursor:"pointer","vertical-align":"middle"},attrs:{type:"ios-close-circle-outline",size:"24",color:"#0000ff",title:"点击删除图片"},on:{click:function(t){e.deleteOnePicHandler(e.currentShowImageIndex)}}})],1),e._v(" "),a("span",{staticClass:"u-imgCloseBtn"},[a("Button",{attrs:{type:"primary"},on:{click:e.closeImageShow}},[e._v("关闭图片显示")])],1)]),e._v(" "),a("hr"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticStyle:{position:"relative",clear:"both","text-align":"center",width:"auto"}},[a("img",{attrs:{id:"imgEntity",src:e.currentShowImageURL,width:e.imageRealShowWidth,height:e.imageRealShowHeight}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticStyle:{"margin-top":"10px","font-size":"16px","font-weight":"bold"}},[a("span",[e._v(e._s(e.currentShowImageComment))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.imgSelfShowFlag,expression:"!imgSelfShowFlag"}],staticStyle:{"margin-top":"20px","font-size":"16px"}},[a("span",[e._v("图片正在加载中，请稍候......")])])]),e._v(" "),a("Modal",{attrs:{title:"温馨提示",width:"500"},on:{"on-ok":e.del_one_image,"on-cancel":e.not_del_one_image},model:{value:e.ifDeleteOneImageHintFlag,callback:function(t){e.ifDeleteOneImageHintFlag=t},expression:"ifDeleteOneImageHintFlag"}},[a("p",{staticStyle:{"font-size":"16px"}},[e._v("确定要删除图片文件 "),a("span",{staticStyle:{color:"#2D8CF0"}},[e._v(e._s(e.currentShowImageFileName))]),e._v(" 吗？")]),e._v(" "),a("p",{staticStyle:{"margin-top":"20px","font-size":"14px"}},[e._v(e._s(e.hintDelImgIFInEditAlreadyRecordStatus))])]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForEditSoilDrillRecord"}}),e._v(" "),e._l(e.uploadList,function(t){return a("div",["finished"===t.status?[a("img",{attrs:{src:t.url}})]:e._e()],2)}),e._v(" "),a("Modal",{staticClass:"vertical-center-modal",attrs:{title:"新建一个模板",width:"360"},on:{"on-ok":e.createTemplate,"on-cancel":e.cancelCreateTemplateQuit},model:{value:e.ifCreateOneNewTemplateFlag,callback:function(t){e.ifCreateOneNewTemplateFlag=t},expression:"ifCreateOneNewTemplateFlag"}},[a("div",{staticClass:"m-input-template-name-box"},[a("div",[a("input",{staticClass:"input-newTemplateNameTB",attrs:{type:"text",placeholder:"请输入模板名字...",id:"newTemplateNameTB",onfocus:"this.placeholder='';",onblur:"this.value==''?this.placeholder='请输入模板名字...':this.placeholder='';"}})])])]),e._v(" "),a("Modal",{staticClass:"vertical-center-modal",attrs:{width:"530",title:"温馨提示",closable:""},on:{"on-ok":e.ok_applyTemplate,"on-cancel":e.cancel_applyTemplate},model:{value:e.hintTheConsequenceWhenApplyTemplateFlag,callback:function(t){e.hintTheConsequenceWhenApplyTemplateFlag=t},expression:"hintTheConsequenceWhenApplyTemplateFlag"}},[a("p",{staticClass:"m-modelHintWords"},[e._v("在应用模板后，当前您已经录入的内容将被清空，您不得不重新录入。"),a("br"),a("br"),e._v("确定要应用此模板吗？")])])],2)},staticRenderFns:[]};var I=a("VU/8")(C,F,!1,function(e){a("QngH"),a("LFvv")},"data-v-370417c1",null).exports,k={name:"view_soil_drill_record",data:function(){var e;return e={table_data_arr:[],table_column_arr:[],ifShowLoadingNowFlag:!0,currentRecordId:"",ifShowImageFlag:!1,openTheDatePickPanelFlag:!1,table_view_column_arr:[],table_view_data_arr:[],tableViewLeftEdge:0,tableViewRealWidth:743,tableForPDFViewRealWidth:744,selectedDateForFillTable:"",dikuai_name:"",dikuai_code:"",budian_person:"",budian_date:"",caiyang_date:"",caiyang_person:"",weather_info:"",dianwei_number:"",jingdu:"",weidu:"",caiyang_site:"",drill_person_name:"",drill_person_contact:"",drill_depth:"",drill_method:"",drill_diameter:"",drill_machine_model:"",chujian_water_level:"",zhikong_depth:"",record_person_name:"",neishen_signature:"",arr_sample_number:[],arr_zuanjin_depth:[],arr_diceng_describe:[],arr_wuran_describe:[],arr_caiyang_depth:[],arr_photo_filepath:[],arr_photo_comment:[],arr_photo_datetime:[],alreadyUploadedImagesList:[]},x()(e,"ifShowImageFlag",!1),x()(e,"imgShowContainerEdgeW",""),x()(e,"imgShowContainerRealWidth",960),x()(e,"imageRealShowWidth",""),x()(e,"imageRealShowHeight",""),x()(e,"currentShowImageURL",""),x()(e,"currentShowImageFileName",""),x()(e,"currentShowImageDateTime","(照片拍摄时间：2018-07-15 09:26)"),x()(e,"currentShowImageComment",""),x()(e,"imgShowContainerRealHeight",750),x()(e,"imgSelfShowFlag",!1),x()(e,"ifDeleteOneImageHintFlag",!1),x()(e,"currentShowImageIndex",-1),x()(e,"record_table_name",""),x()(e,"record_date",""),x()(e,"table_view_column_arr_pdf",[]),x()(e,"pdfFileName",""),x()(e,"ifExportPDFFileFlag",!1),e},mounted:function(){this.initTable(),document.body.scrollTop=0,window.scrollTo(0,0),this.currentRecordId=Number(this.$route.params.id),this.getPointedSoilDrillRecord(),this.rearrangeUIAfterResizeShowArea()},methods:{initTable:function(){this.table_column_arr=[],this.table_column_arr.push({type:"selection",width:60,align:"center"}),this.table_column_arr.push({title:"记录名称",key:"name",width:350,align:"left",render:function(e,t){return e("span",{domProps:{innerHTML:t.row.name,title:"点击查看详情"},style:{cursor:"pointer",color:"#007FFF"},on:{click:function(){}}})}}),this.table_column_arr.push({title:"创建记录的时间",key:"create_dt",width:200,align:"center"}),this.table_column_arr.push({title:"记录人",key:"person",width:100,align:"center"}),this.table_column_arr.push({title:"照片",key:"photo",width:80,align:"center"}),this.table_column_arr.push({title:"最新编辑的时间",key:"edit_dt",width:200,align:"center"}),this.table_data_arr=[],this.table_data_arr.push({name:"红桥区二号院实地勘测",create_dt:"2018-07-05 15:30",person:"朱小雨",photo:"有",edit_dt:"2018-07-05 18:06",id:1001}),this.table_data_arr.push({name:"邕江支流拐弯处108号口岸附近采样",create_dt:"2018-07-07 14:00",person:"聂佳琳",photo:"无",edit_dt:"2018-07-07 17:21",id:1002}),this.table_data_arr.push({name:"龙湖工业园C区土壤采点",create_dt:"2018-07-09 11:00",person:"张卫",photo:"有",edit_dt:"2018-07-10 2:10",id:1003})},echoParent:function(){this.rearrangeUIAfterResizeShowArea()},customTableRowContentStyleForPDF:function(e,t){return"m-table-row-pdf-style"},customTableRowContentNormalStyle:function(e,t){return"m-table-row-style"},initReadyOK:function(){this.ifShowLoadingNowFlag=!1,this.rearrangeUIAfterResizeShowArea()},getPointedSoilDrillRecord:function(){var e=this,t=new URLSearchParams;t.append("record_id",this.currentRecordId),this.axios({method:"post",url:"http://huankepy.neuseer.cn/select_pointed_soil_drill_record",data:t}).then(function(t){var a=[{title:"（m）",key:"zuanjin_depth",align:"center",width:100}],i=[{title:"土质分类、密度、颜色、湿度",key:"diceng_describe",align:"center",width:220}],n=[{title:"气味、污染痕迹、油状物等",key:"wuran_describe",align:"center",width:220}],l=[{title:"（m）",key:"caiyang_depth",align:"center",width:100}];e.table_view_column_arr=[],e.table_view_column_arr[0]={title:"样品编号",key:"sample_number",width:100,align:"center"},e.table_view_column_arr[1]={title:"钻进深度",key:"zuanjin_depth",width:100,align:"center",children:a},e.table_view_column_arr[2]={title:"地层描述",key:"diceng_describe",width:220,align:"center",children:i},e.table_view_column_arr[3]={title:"污染描述",key:"wuran_describe",width:220,align:"center",children:n},e.table_view_column_arr[4]={title:"采样深度",key:"caiyang_depth",width:100,align:"center",children:l},e.table_view_column_arr_pdf=[],e.table_view_column_arr_pdf[0]={title:"样品编号",key:"sample_number",width:100,align:"center"},e.table_view_column_arr_pdf[1]={title:"钻进深度",key:"zuanjin_depth",width:100,align:"center",children:a},e.table_view_column_arr_pdf[2]={title:"地层描述",key:"diceng_describe",width:220,align:"center",children:i},e.table_view_column_arr_pdf[3]={title:"污染描述",key:"wuran_describe",width:220,align:"center",children:n},e.table_view_column_arr_pdf[4]={title:"采样深度",key:"caiyang_depth",width:100,align:"center",children:l};var r,s=["id","record_table_name","record_person_name","record_date","first_submit_time","latest_save_time","neishen_signature","dikuai_name","dikuai_code","budian_person","budian_date","caiyang_date","caiyang_person","weather_info","dianwei_number","jingdu","weidu","caiyang_site","drill_person_name","drill_person_contact","drill_depth","drill_diameter","drill_method","drill_machine_model","chujian_water_level","zhikong_depth","arr_sample_number","arr_zuanjin_depth","arr_diceng_describe","arr_wuran_describe","arr_caiyang_depth","arr_photo_filepath","arr_photo_comment","arr_photo_datetime"],o=JSON.parse(t.data.result);for(e.record_table_name=o[0][s.indexOf("record_table_name")],console.log("this.record_table_name=="+e.record_table_name),e.record_person_name=o[0][s.indexOf("record_person_name")],console.log("this.record_person_name=="+e.record_person_name),e.record_date=o[0][s.indexOf("record_date")],console.log("this.record_table_name=="+e.record_table_name),e.neishen_signature=o[0][s.indexOf("neishen_signature")],console.log("this.neishen_signature=="+e.neishen_signature),e.dikuai_name=o[0][s.indexOf("dikuai_name")],console.log("this.dikuai_name=="+e.dikuai_name),e.dikuai_code=o[0][s.indexOf("dikuai_code")],console.log("this.dikuai_code=="+e.dikuai_code),e.budian_person=o[0][s.indexOf("budian_person")],console.log("this.budian_person=="+e.budian_person),e.budian_date=o[0][s.indexOf("budian_date")],console.log("this.budian_date=="+e.budian_date),e.caiyang_date=o[0][s.indexOf("caiyang_date")],console.log("this.caiyang_date=="+e.caiyang_date),e.caiyang_person=o[0][s.indexOf("caiyang_person")],console.log("this.caiyang_person=="+e.caiyang_person),e.weather_info=o[0][s.indexOf("weather_info")],console.log("this.weather_info=="+e.weather_info),e.dianwei_number=o[0][s.indexOf("dianwei_number")],console.log("this.dianwei_number=="+e.dianwei_number),e.jingdu=o[0][s.indexOf("jingdu")],console.log("this.jingdu=="+e.jingdu),e.weidu=o[0][s.indexOf("weidu")],console.log("this.weidu=="+e.weidu),e.caiyang_site=o[0][s.indexOf("caiyang_site")],console.log("this.caiyang_site=="+e.caiyang_site),e.drill_person_name=o[0][s.indexOf("drill_person_name")],console.log("this.drill_person_name=="+e.drill_person_name),e.drill_person_contact=o[0][s.indexOf("drill_person_contact")],console.log("this.drill_person_contact=="+e.drill_person_contact),e.drill_depth=o[0][s.indexOf("drill_depth")],console.log("this.drill_depth=="+e.drill_depth),e.drill_diameter=o[0][s.indexOf("drill_diameter")],console.log("this.drill_diameter=="+e.drill_diameter),e.drill_method=o[0][s.indexOf("drill_method")],console.log("this.drill_method=="+e.drill_method),e.drill_machine_model=o[0][s.indexOf("drill_machine_model")],console.log("this.drill_machine_model=="+e.drill_machine_model),e.chujian_water_level=o[0][s.indexOf("chujian_water_level")],console.log("this.chujian_water_level=="+e.chujian_water_level),e.zhikong_depth=o[0][s.indexOf("zhikong_depth")],console.log("this.zhikong_depth=="+e.zhikong_depth),e.arr_sample_number=o[0][s.indexOf("arr_sample_number")].split("**"),e.arr_zuanjin_depth=o[0][s.indexOf("arr_zuanjin_depth")].split("**"),e.arr_diceng_describe=o[0][s.indexOf("arr_diceng_describe")].split("**"),e.arr_wuran_describe=o[0][s.indexOf("arr_wuran_describe")].split("**"),e.arr_caiyang_depth=o[0][s.indexOf("arr_caiyang_depth")].split("**"),e.arr_photo_filepath=o[0][s.indexOf("arr_photo_filepath")].split("**"),e.arr_photo_comment=o[0][s.indexOf("arr_photo_comment")].split("**"),e.arr_photo_datetime=o[0][s.indexOf("arr_photo_datetime")].split("**"),1==e.arr_photo_filepath.length&&""==e.arr_photo_filepath[0]&&(e.arr_photo_filepath=[],e.arr_photo_comment=[],e.arr_photo_datetime=[]),e.table_view_data_arr=[],r=0;r<e.arr_sample_number.length;r++)e.table_view_data_arr.push({sample_number:e.arr_sample_number[r],zuanjin_depth:e.arr_zuanjin_depth[r],diceng_describe:e.arr_diceng_describe[r],wuran_describe:e.arr_wuran_describe[r],caiyang_depth:e.arr_caiyang_depth[r]});for(e.alreadyUploadedImagesList=[],r=0;r<e.arr_photo_filepath.length;r++){var d=e.arr_photo_filepath[r].split("/"),_=d[d.length-1];e.alreadyUploadedImagesList.push({name:_,url:e.arr_photo_filepath[r],comment:e.arr_photo_comment[r],dt:e.arr_photo_datetime[r]})}e.initReadyOK()}).catch(function(t){console.log("encounter453 db access error"),e.initStaticDataDemo(),setTimeout(e.initReadyOK,1e3)})},initStaticDataDemo:function(){this.record_table_name="红桥区二号院实地勘测记录",this.dikuai_name="世界之窗地块A",this.dikuai_code="SZ0001",this.budian_person="朱小雨",this.budian_date="2018年7月1日",this.caiyang_date="2018年7月5日",this.caiyang_person="刘明凯",this.weather_info="多云转雷阵雨",this.dianwei_number="78613",this.jingdu="东经35度",this.weidu="北纬29度",this.caiyang_site="红桥区地质家属楼二号院内",this.drill_person_name="朱小雨",this.drill_person_contact="13526597896",this.drill_depth="10",this.drill_method="机械式钻井法",this.drill_diameter="150",this.drill_machine_model="一级钻机A08",this.chujian_water_level="36",this.zhikong_depth="19",this.record_person_name="朱小雨",this.neishen_signature="陈总办公室",this.record_date="2018年7月15日",this.alreadyUploadedImagesList=[],this.alreadyUploadedImagesList.push({name:"abcdefg.jpg",url:"/static/0.jpg",comment:"土层表面纹理",dt:"2018-07-13 11:10"}),this.alreadyUploadedImagesList.push({name:"uuuu1.jpg",url:"/static/1.jpg",comment:"13日白天阳光照射下的土",dt:"2018-07-15 15:27"}),this.alreadyUploadedImagesList.push({name:"uuuu2.jpg",url:"/static/2.jpg",comment:"红桥区二号院土地",dt:"2018-07-14 18:11"}),this.alreadyUploadedImagesList.push({name:"uuuu3.jpg",url:"/static/3.jpg",comment:"下雨过后的土壤",dt:"2018-07-09 20:10"}),this.alreadyUploadedImagesList.push({name:"uuuu4.jpg",url:"/static/4.jpg",comment:"团队合作",dt:"2018-07-08 09:10"}),this.alreadyUploadedImagesList.push({name:"uuuu5.jpg",url:"/static/5.jpg",comment:"砖红色的土层",dt:"2018-07-13 10:10"}),this.table_view_data_arr=[],this.table_view_data_arr.push({sample_number:"Y0021",zuanjin_depth:"21m",diceng_describe:"土质疏松，发黑，颗粒密度小",wuran_describe:"有不好的味道，黏糊糊的，估计已经变质一段时间",caiyang_depth:"37"}),this.table_view_data_arr.push({sample_number:"Y0049",zuanjin_depth:"16m",diceng_describe:"土块很潮湿，浅黄色，长期被水浸泡，很软",wuran_describe:"未见污染，未见异样气味",caiyang_depth:"11"}),this.table_view_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""})},openViewOneImage:function(e){this.imgSelfShowFlag=!1;var t=this.alreadyUploadedImagesList[e];this.currentShowImageIndex=e,this.ifShowImageFlag=!0,this.currentShowImageFileName=t.name,""!=t.dt&&null!=t.dt?this.currentShowImageDateTime="（照片拍摄时间："+t.dt+"）":this.currentShowImageDateTime="",this.currentShowImageURL=t.url,this.currentShowImageComment=t.comment,this.imgObj=new Image,this.imgObj.src=this.currentShowImageURL,this.imgObj.onload=this.getImageLoadedHandler},getImageLoadedHandler:function(){var e=this.imgObj.width,t=this.imgObj.height,a=void 0,i=void 0;if(e>t)for(i=this.imgShowContainerRealWidth-100,a=Math.floor(t*i/e);a>this.imgShowContainerRealHeight-90;)a*=.9,i*=.9;else a=this.imgShowContainerRealHeight-95,i=Math.floor(e*a/t);this.imgObj.width=i,this.imgObj.height=a,this.imageRealShowWidth=i,this.imageRealShowHeight=a,this.imgSelfShowFlag=!0},closeImageShow:function(){this.ifShowImageFlag=!1,setTimeout(this.setScrollToBottom,10)},setScrollToBottom:function(){document.body.scrollTop=document.body.scrollHeight,window.scrollTo(0,document.body.scrollHeight)},rearrangeUIAfterResizeShowArea:function(){this.tableViewLeftEdge=(760-this.tableViewRealWidth)/2,this.imgShowContainerEdgeW=(document.body.offsetWidth-this.imgShowContainerRealWidth)/2,this.imgShowContainerRealHeight=document.documentElement.clientHeight-61,null!=this.d("loadingEntityForViewSoilDrillRecord")&&(this.d("loadingEntityForViewSoilDrillRecord").style.left=(document.body.offsetWidth-this.d("loadingEntityForViewSoilDrillRecord").offsetWidth)/2+"px")},readyForEditAgain:function(){this.$router.push("/edit_soil_drill_record/"+this.currentRecordId)}}},O={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"view_soil_drill_record"}},[a("Breadcrumb",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],staticStyle:{"text-align":"left","margin-left":"100px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_entrance"}},[e._v("土壤类记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_list/0"}},[e._v("电子土壤钻孔记录表")]),e._v(" "),a("BreadcrumbItem",[e._v("查看过往记录")])],1),e._v(" "),a("div",{attrs:{id:"newTableTitleHint"}},[e._v("\n    "+e._s(e.record_table_name)+"\n  ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag&&!e.ifShowLoadingNowFlag,expression:"!ifShowImageFlag && !ifShowLoadingNowFlag"}],attrs:{id:"fillContentLayer"}},[a("hr",{staticStyle:{"margin-top":"30px",height:"1px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("1、基本信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("地块名称：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.dikuai_name)+"\n        ")]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("地块编码：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.dikuai_code)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("布点人员：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.budian_person)+"\n        ")]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("布点日期：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.budian_date)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("2、点位信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("采样日期：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.caiyang_date))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("采样人员：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.caiyang_person))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("天气：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.weather_info))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("点位编号：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.dianwei_number))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("经度：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.jingdu))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("纬度：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.weidu))])]),e._v(" "),a("div",{staticClass:"m-single"},[a("span",{staticClass:"m-span-label"},[e._v("采样地点：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.caiyang_site))])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("3、钻孔信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔负责人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_person_name))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("联系方式：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_person_contact)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔深度(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_depth))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻孔直径(mm)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_diameter))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔方法：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_method))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻机型号：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_machine_model))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("初见水位(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.chujian_water_level))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("止孔深度(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.zhikong_depth))])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("4、钻进操作记录")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&e.table_view_data_arr.length>0,expression:"!ifShowLoadingNowFlag && table_view_data_arr.length>0"}],attrs:{id:"drillOperateRecordList"}},[a("Table",{ref:"operateRecordTable",style:"left:"+e.tableViewLeftEdge+"px;",attrs:{"row-class-name":e.customTableRowContentNormalStyle,size:"large",border:"",width:e.tableViewRealWidth,columns:e.table_view_column_arr,data:e.table_view_data_arr,"disabled-hover":""}})],1),e._v(" "),a("div",{staticClass:"m-smallTitle",staticStyle:{"padding-top":"30px"}},[e._v("【附件】：拍摄照片列表")]),e._v(" "),a("div",{staticClass:"m-picList"},[e._l(e.alreadyUploadedImagesList,function(t,i){return a("div",{staticClass:"m-picSingleInfoLine",attrs:{id:"pic_"+(i+1)}},[a("span",{staticClass:"m-picfilename"},[e._v(e._s(i+1)+"、图片说明："),a("span",{staticClass:"m-realFieldValue",staticStyle:{width:"300px"}},[e._v(e._s(""==t.comment?"（无）":t.comment))])]),e._v(" "),a("span",{staticClass:"m-viewpic"},[a("Button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.openViewOneImage(i)}}},[e._v("点击打开图片")])],1)])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.alreadyUploadedImagesList.length,expression:"alreadyUploadedImagesList.length==0"}],staticStyle:{"margin-top":"-30px","padding-bottom":"20px"}},[e._v("（没有上传照片）")])],2),e._v(" "),a("div",{staticClass:"m-placeholder"},[e._v("  ")]),e._v(" "),a("hr",{staticStyle:{position:"relative","margin-bottom":"20px",height:"2px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("钻孔负责人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_person_name))])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("记录人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.record_person_name))])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("采样单位的内审签名：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.neishen_signature))])]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-inscribe-date"},[e._v("填表日期：\n      "),a("span",{staticStyle:{color:"#136BBD"}},[e._v(e._s(e.record_date))])]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"},attrs:{id:"currentFillInStatusHintContainer"}},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:e.readyForEditAgain}},[e._v("点击重新编辑")])],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"},attrs:{id:"currentFillInStatusHintContainer"}},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.ifExportPDFFileFlag=!0}}},[e._v("输出成PDF文件")])],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br")]),e._v(" "),a("div",{attrs:{id:"pdfDom"}},[a("div",{staticStyle:{width:"auto","text-align":"left","margin-left":"10px","margin-bottom":"10px"}},[e._v("【表类别】：电子土壤钻孔记录表")]),e._v(" "),a("div",{attrs:{id:"newTableTitleHint_2"}},[e._v("\n      "+e._s(e.record_table_name)+"\n    ")]),e._v(" "),a("hr",{staticStyle:{"margin-top":"30px",height:"1px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("1、基本信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("地块名称：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.dikuai_name)+"\n        ")]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("地块编码：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.dikuai_code)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("布点人员：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.budian_person)+"\n        ")]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("布点日期：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.budian_date)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("2、点位信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("采样日期：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.caiyang_date))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("采样人员：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.caiyang_person))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("天气：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.weather_info))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("点位编号：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.dianwei_number))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("经度：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.jingdu))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("纬度：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.weidu))])]),e._v(" "),a("div",{staticClass:"m-single"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("采样地点：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.caiyang_site))])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("3、钻孔信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("钻孔负责人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.drill_person_name))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("联系方式：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.drill_person_contact)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("钻孔深度(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.drill_depth))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("钻孔直径(mm)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.drill_diameter))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("钻孔方法：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.drill_method))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("钻机型号：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.drill_machine_model))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("初见水位(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.chujian_water_level))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label m-label-addtional-for-pdf"},[e._v("止孔深度(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.zhikong_depth))])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("4、钻进操作记录")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&e.table_view_data_arr.length>0,expression:"!ifShowLoadingNowFlag && table_view_data_arr.length>0"}],attrs:{id:"drillOperateRecordList"}},[a("Table",{ref:"operateRecordTable",staticClass:"default",style:"font-weight:bold;color:#000;left:"+e.tableViewLeftEdge+"px;",attrs:{"row-class-name":e.customTableRowContentStyleForPDF,size:"large",border:"",width:e.tableForPDFViewRealWidth,columns:e.table_view_column_arr_pdf,data:e.table_view_data_arr,"disabled-hover":""}})],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("hr",{staticStyle:{position:"relative","margin-bottom":"20px",height:"2px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long m-label-addtional-for-pdf"},[e._v("钻孔负责人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.drill_person_name))])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long m-label-addtional-for-pdf"},[e._v("记录人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.record_person_name))])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long m-label-addtional-for-pdf"},[e._v("采样单位的内审签名：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue m-only-for-pdf"},[e._v(e._s(e.neishen_signature))])]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-inscribe-date m-label-addtional-for-pdf"},[e._v("填表日期：\n      "),a("span",{staticClass:"m-only-for-pdf"},[e._v(e._s(e.record_date))])]),e._v(" "),a("br"),e._v(" "),a("br")]),e._v(" "),a("Card",{directives:[{name:"show",rawName:"v-show",value:e.ifShowImageFlag,expression:"ifShowImageFlag"}],style:"background-color:#eeeeee;z-index:1001;width:"+e.imgShowContainerRealWidth+"px;height:"+e.imgShowContainerRealHeight+"px;position:fixed;top:50px;left:"+e.imgShowContainerEdgeW+"px;",attrs:{shadow:""}},[a("div",{staticStyle:{position:"relative"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticClass:"u-imgBasicInfo"},[e._v("图片文件名："+e._s(e.currentShowImageFileName)+"      "+e._s(e.currentShowImageDateTime))]),e._v(" "),a("span",{staticClass:"u-imgCloseBtn"},[a("Button",{attrs:{type:"primary"},on:{click:e.closeImageShow}},[e._v("关闭图片显示")])],1)]),e._v(" "),a("hr"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticStyle:{position:"relative",clear:"both","text-align":"center",width:"auto"}},[a("img",{attrs:{id:"imgEntity",src:e.currentShowImageURL,width:e.imageRealShowWidth,height:e.imageRealShowHeight}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticStyle:{"margin-top":"10px","font-size":"16px","font-weight":"bold"}},[a("span",[e._v(e._s(e.currentShowImageComment))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.imgSelfShowFlag,expression:"!imgSelfShowFlag"}],staticStyle:{"margin-top":"20px","font-size":"16px"}},[a("span",[e._v("图片正在加载中，请稍候......")])])]),e._v(" "),a("Modal",{staticClass:"vertical-center-modal",attrs:{title:"输出成PDF文件",width:"360"},on:{"on-ok":function(t){e.getPdf()}},model:{value:e.ifExportPDFFileFlag,callback:function(t){e.ifExportPDFFileFlag=t},expression:"ifExportPDFFileFlag"}},[a("div",{staticClass:"m-input-record-name-box"},[a("div",[a("Input",{attrs:{placeholder:"请输入文件名..."},model:{value:e.pdfFileName,callback:function(t){e.pdfFileName=t},expression:"pdfFileName"}})],1)])]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForViewSoilDrillRecord"}})],1)},staticRenderFns:[]};var T=a("VU/8")(k,O,!1,function(e){a("sG3E"),a("NbZF")},"data-v-49a7079e",null).exports,R={name:"compile_soil_drill_template",data:function(){var e;return e={defaultList:[{name:"a42bdcc1178e62b4694c830f028db5c0",url:"https://o5wwk8baw.qnssl.com/a42bdcc1178e62b4694c830f028db5c0/avatar"},{name:"bc7521e033abdd1e92222d733590f104",url:"https://o5wwk8baw.qnssl.com/bc7521e033abdd1e92222d733590f104/avatar"}],template_table_name:"",update_date_time:"",uploadList:[],ifShowLoadingNowFlag:!0,iftemplateNameEditFlag:!1,ifShowImageFlag:!1,currentFillInStatusHint:"",openTheDatePickPanelFlag:!1,table_column_arr:[],table_data_arr:[],tableLeftEdge:0,tableRealWidth:743,template_date:"",dikuai_name:"",dikuai_code:"",budian_person:"",budian_date:"",caiyang_date:"",caiyang_person:"",weather_info:"",dianwei_number:"",jingdu:"",weidu:"",caiyang_site:"",drill_person_name:"",drill_person_contact:"",drill_depth:"",drill_method:"",drill_diameter:"",drill_machine_model:"",chujian_water_level:"",zhikong_depth:"",record_person_name:"",neishen_signature:"",arr_sample_number:[],arr_zuanjin_depth:[],arr_diceng_describe:[],arr_wuran_describe:[],arr_caiyang_depth:[],arr_photo_filepath:[],arr_photo_comment:[],arr_photo_datetime:[]},x()(e,"ifShowImageFlag",!1),x()(e,"imgShowContainerEdgeW",""),x()(e,"imgShowContainerRealWidth",960),x()(e,"imageRealShowWidth",""),x()(e,"imageRealShowHeight",""),x()(e,"currentShowImageURL",""),x()(e,"currentShowImageFileName",""),x()(e,"currentShowImageDateTime","(照片拍摄时间：2018-07-15 09:26)"),x()(e,"currentShowImageComment",""),x()(e,"imgShowContainerRealHeight",750),x()(e,"imgSelfShowFlag",!1),x()(e,"ifDeleteOneImageHintFlag",!1),x()(e,"currentShowImageIndex",-1),x()(e,"addtionLeftEdge",""),x()(e,"addtionRightEdge",""),x()(e,"addtionRightEdge",""),x()(e,"currentTemplateId",""),x()(e,"first_submit_time",""),x()(e,"latest_save_time",""),x()(e,"hintDelImgIFInEditAlreadyRecordStatus",""),x()(e,"alreadyUploadedFileAmount",0),x()(e,"curBatchUploadListAmount",0),x()(e,"curNowUploadedOKCount",0),x()(e,"templateList",[]),x()(e,"selectedTemplateValue",""),e},mounted:function(){var e=this;window.scrollTo(0,0),this.template_table_name=this.$store.state.currentTemplateName,this.currentTemplateId=Number(this.$route.params.id),this.table_column_arr=[],this.table_column_arr[0]={title:"样品编号",key:"sample_number",width:100,align:"left",render:function(t,a){return t("div",[t("Input",{props:{value:e.arr_sample_number[a.row._index]},on:{"on-change":function(t){e.arr_sample_number[a.row._index]=t.target.value}}})])}},this.table_column_arr[1]={title:"钻进深度",key:"zuanjin_depth",border:!1,width:100,align:"center",children:[{title:"（m）",key:"zuanjin_depth",align:"center",width:100,render:function(t,a){return t("div",[t("Input",{props:{value:e.arr_zuanjin_depth[a.row._index]},on:{"on-change":function(t){e.arr_zuanjin_depth[a.row._index]=t.target.value}}})])}}]},this.table_column_arr[2]={title:"地层描述",key:"diceng_describe",width:220,children:[{title:"土质分类、密度、颜色、湿度",key:"diceng_describe",align:"center",width:220,render:function(t,a){return t("div",[t("Input",{props:{autosize:!0,type:"textarea",value:e.arr_diceng_describe[a.row._index]},on:{"on-change":function(t){e.arr_diceng_describe[a.row._index]=t.target.value}}})])}}],align:"center"},this.table_column_arr[3]={title:"污染描述",key:"wuran_describe",width:220,children:[{title:"气味、污染痕迹、油状物等",key:"wuran_describe",align:"center",width:220,render:function(t,a){return t("div",[t("Input",{props:{autosize:!0,type:"textarea",value:e.arr_wuran_describe[a.row._index]},on:{"on-change":function(t){e.arr_wuran_describe[a.row._index]=t.target.value}}})])}}],align:"center"},this.table_column_arr[4]={title:"采样深度",key:"caiyang_depth",width:100,align:"center",children:[{title:"（m）",key:"caiyang_depth",align:"center",width:100,render:function(t,a){return t("div",[t("Input",{props:{value:e.arr_caiyang_depth[a.row._index]},on:{"on-change":function(t){e.arr_caiyang_depth[a.row._index]=t.target.value}}})])}}]},this.table_data_arr=[],this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""}),0==this.currentTemplateId?(this.currentFillInStatusHint="新建模板",this.initReadyOK()):(this.currentFillInStatusHint="编辑已有模板",this.getPointedSoilDrillRecord()),this.rearrangeUIAfterResizeShowArea()},methods:{onReadyForUploadFileStarter:function(){this.curNowUploadedOKCount=0,this.alreadyUploadedFileAmount=this.uploadList.length},echoParent:function(){this.rearrangeUIAfterResizeShowArea()},readyForCreateNewTemplate:function(){},handleBeforeUpload:function(){this.curBatchUploadListAmount=this.uploadList.length+1-this.alreadyUploadedFileAmount,this.uploadFileNowFlag||(this.uploadFileNowFlag=!0,this.$Spin.show({render:function(e){return e("div",[e("Icon",{class:"demo-spin-icon-load",props:{type:"ios-loading",size:20}}),e("div","正在上传图片文件，请稍候...")])}}))},handleUploadFileSuccess:function(e,t){setTimeout(this.delayShowUploadOK,200,t)},delayShowUploadOK:function(e){this.alreadyUploadedImagesList.push({name:e.name,url:"http://huankepy.neuseer.cn/static/huanke/"+e.name,comment:e.name,dt:""}),this.curNowUploadedOKCount+=1,this.curNowUploadedOKCount==this.curBatchUploadListAmount&&(this.uploadFileNowFlag=!1,this.$Spin.hide(),setTimeout(function(){alert("所选择的图片文件全部上传成功！")},500))},initReadyOK:function(){this.ifShowLoadingNowFlag=!1},deleteOnePicHandler:function(e){this.currentShowImageFileName=this.alreadyUploadedImagesList[e].name,this.currentShowImageIndex=e,this.ifDeleteOneImageHintFlag=!0,0!=this.currentTemplateId&&(this.hintDelImgIFInEditAlreadyRecordStatus="（提示：在记录表的底部点击保存填写内容后生效）")},getPointedSoilDrillRecord:function(){var e=this,t=new URLSearchParams;t.append("template_id",this.currentTemplateId),this.axios({method:"post",url:"http://huankepy.neuseer.cn/select_pointed_soil_drill_template",data:t}).then(function(t){var a=e.$store.state.soil_drill_template_table_fields,i=JSON.parse(t.data.result);e.template_table_name=i[0][a.indexOf("template_table_name")],e.update_date_time=i[0][a.indexOf("update_date_time")],e.record_person_name=i[0][a.indexOf("record_person_name")],e.neishen_signature=i[0][a.indexOf("neishen_signature")],e.dikuai_name=i[0][a.indexOf("dikuai_name")],e.dikuai_code=i[0][a.indexOf("dikuai_code")],e.budian_person=i[0][a.indexOf("budian_person")],e.budian_date=i[0][a.indexOf("budian_date")],e.caiyang_date=i[0][a.indexOf("caiyang_date")],e.caiyang_person=i[0][a.indexOf("caiyang_person")],e.weather_info=i[0][a.indexOf("weather_info")],e.dianwei_number=i[0][a.indexOf("dianwei_number")],e.jingdu=i[0][a.indexOf("jingdu")],e.weidu=i[0][a.indexOf("weidu")],e.caiyang_site=i[0][a.indexOf("caiyang_site")],e.drill_person_name=i[0][a.indexOf("drill_person_name")],e.drill_person_contact=i[0][a.indexOf("drill_person_contact")],e.drill_depth=i[0][a.indexOf("drill_depth")],e.drill_diameter=i[0][a.indexOf("drill_diameter")],e.drill_method=i[0][a.indexOf("drill_method")],e.drill_machine_model=i[0][a.indexOf("drill_machine_model")],e.chujian_water_level=i[0][a.indexOf("chujian_water_level")],e.zhikong_depth=i[0][a.indexOf("zhikong_depth")],e.arr_sample_number=i[0][a.indexOf("arr_sample_number")].split("**"),e.arr_zuanjin_depth=i[0][a.indexOf("arr_zuanjin_depth")].split("**"),e.arr_diceng_describe=i[0][a.indexOf("arr_diceng_describe")].split("**"),e.arr_wuran_describe=i[0][a.indexOf("arr_wuran_describe")].split("**"),e.arr_caiyang_depth=i[0][a.indexOf("arr_caiyang_depth")].split("**"),e.table_data_arr=[];for(var n=0;n<e.arr_sample_number.length;n++)e.table_data_arr.push({sample_number:e.arr_sample_number[n],zuanjin_depth:e.arr_zuanjin_depth[n],diceng_describe:e.arr_diceng_describe[n],wuran_describe:e.arr_wuran_describe[n],caiyang_depth:e.arr_caiyang_depth[n]});e.initReadyOK()}).catch(function(t){console.log("encounter db access error"),e.initReadyOK()})},saveFillInHandler:function(){this.insertOrUpdateSoilDrillTable()},handleChange:function(e){this.template_date=e},handleClear:function(){this.openTheDatePickPanelFlag=!1},handleOk:function(){this.openTheDatePickPanelFlag=!1},handleClick:function(){this.openTheDatePickPanelFlag=!this.openTheDatePickPanelFlag},closeImageShow:function(){this.ifShowImageFlag=!1,setTimeout(this.setScrollToBottom,10)},setScrollToBottom:function(){document.body.scrollTop=document.body.scrollHeight,window.scrollTo(0,document.body.scrollHeight)},rearrangeUIAfterResizeShowArea:function(){this.tableLeftEdge=(760-this.tableRealWidth)/2,this.imgShowContainerEdgeW=(document.body.offsetWidth-this.imgShowContainerRealWidth)/2,this.addtionLeftEdge=(document.body.offsetWidth-760)/2,this.addtionRightEdge=(document.body.offsetWidth-760)/2,this.imgShowContainerRealHeight=document.documentElement.clientHeight-60},insertOrUpdateSoilDrillTable:function(){var e=this,t=new URLSearchParams,a=void 0;0!=this.currentTemplateId?(t.append("template_id",this.currentTemplateId),a="/update_soil_drill_template"):a="/insert_soil_drill_template",this.update_date_time=(new Date).Format("yyyy-MM-dd hh:mm");var i=void 0;i=""==this.budian_date?"":new Date(this.budian_date).Format("yyyy-MM-dd");var n=void 0;n=""==this.caiyang_date?"":new Date(this.caiyang_date).Format("yyyy-MM-dd"),t.append("template_table_name",this.template_table_name),t.append("update_date_time",this.update_date_time),t.append("record_person_name",this.record_person_name),t.append("neishen_signature",this.neishen_signature),t.append("dikuai_name",this.dikuai_name),t.append("dikuai_code",this.dikuai_code),t.append("budian_person",this.budian_person),t.append("budian_date",i),t.append("caiyang_date",n),t.append("caiyang_person",this.caiyang_person),t.append("weather_info",this.weather_info),t.append("dianwei_number",this.dianwei_number),t.append("jingdu",this.jingdu),t.append("weidu",this.weidu),t.append("caiyang_site",this.caiyang_site),t.append("drill_person_name",this.drill_person_name),t.append("drill_person_contact",this.drill_person_contact),t.append("drill_depth",this.drill_depth),t.append("drill_diameter",this.drill_diameter),t.append("drill_method",this.drill_method),t.append("drill_machine_model",this.drill_machine_model),t.append("chujian_water_level",this.chujian_water_level),t.append("zhikong_depth",this.zhikong_depth),t.append("arr_sample_number",this.arr_sample_number.join("**")),t.append("arr_zuanjin_depth",this.arr_zuanjin_depth.join("**")),t.append("arr_diceng_describe",this.arr_diceng_describe.join("**")),t.append("arr_wuran_describe",this.arr_wuran_describe.join("**")),t.append("arr_caiyang_depth",this.arr_caiyang_depth.join("**")),t.append("arr_diceng_describe",this.arr_diceng_describe.join("**")),t.append("arr_wuran_describe",this.arr_wuran_describe.join("**")),t.append("arr_caiyang_depth",this.arr_caiyang_depth.join("**")),this.axios({method:"post",url:"http://huankepy.neuseer.cn"+a,data:t}).then(function(t){t.data.result>0&&(e.currentTemplateId=t.data.result),alert("保存成功，点击确定查看"),e.$router.push("/template/view_soil_drill_template/"+e.currentTemplateId)}).catch(function(e){alert("写入数据表失败"),console.log("insert data to mysql error: "+e)})}}},L={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"edit_soil_drill_template"}},[a("Breadcrumb",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],staticStyle:{"text-align":"left","margin-left":"100px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_entrance"}},[e._v("土壤类记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_list/0"}},[e._v("电子土壤钻孔记录表")]),e._v(" "),a("BreadcrumbItem",[e._v(e._s(e.currentFillInStatusHint))])],1),e._v(" "),a("div",{attrs:{id:"newTableTitleHint"}},[e._v("\n    电子土壤钻孔记录表模板 之 "),a("span",{staticStyle:{"font-family":"'宋体'"}},[e._v("“")]),e._v(e._s(e.template_table_name)),a("span",{staticStyle:{"font-family":"'宋体'"}},[e._v("”")])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],attrs:{id:"fillInContent"}},[a("hr",{staticStyle:{"margin-top":"30px",height:"1px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("1、基本信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("地块名称：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.dikuai_name,callback:function(t){e.dikuai_name=t},expression:"dikuai_name"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("地块编码：")]),e._v(" "),a("span",[a("Input",{staticStyle:{"font-size":"16px",width:"200px"},attrs:{size:"default"},model:{value:e.dikuai_code,callback:function(t){e.dikuai_code=t},expression:"dikuai_code"}})],1)]),e._v(" "),a("div",[a("span",{staticClass:"m-span-label"},[e._v("布点人员：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.budian_person,callback:function(t){e.budian_person=t},expression:"budian_person"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("布点日期：")]),e._v(" "),a("span",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:e.budian_date,format:"yyyy年M月d日",type:"date",placeholder:"（请点击选择）"},model:{value:e.budian_date,callback:function(t){e.budian_date=t},expression:"budian_date"}})],1)]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("2、点位信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("采样日期：")]),e._v(" "),a("span",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:e.caiyang_date,format:"yyyy年M月d日",type:"date",placeholder:"（请点击选择）"},model:{value:e.caiyang_date,callback:function(t){e.caiyang_date=t},expression:"caiyang_date"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("采样人员：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.caiyang_person,callback:function(t){e.caiyang_person=t},expression:"caiyang_person"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("天气：")]),e._v(" "),a("span",[a("Select",{staticStyle:{width:"85px"},attrs:{size:"large"},model:{value:e.weather_info,callback:function(t){e.weather_info=t},expression:"weather_info"}},[a("Option",{key:"sunshine",attrs:{value:"晴天"}},[e._v("晴 天")]),e._v(" "),a("Option",{key:"rainy",attrs:{value:"雨天"}},[e._v("雨 天")]),e._v(" "),a("Option",{key:"cloudy",attrs:{value:"阴天"}},[e._v("阴 天")])],1)],1),e._v(" "),a("span",{staticClass:"m-hp-center-specifal"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("点位编号：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.dianwei_number,callback:function(t){e.dianwei_number=t},expression:"dianwei_number"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("经度：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.jingdu,callback:function(t){e.jingdu=t},expression:"jingdu"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("纬度：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.weidu,callback:function(t){e.weidu=t},expression:"weidu"}})],1)]),e._v(" "),a("div",{staticClass:"m-single"},[a("span",{staticClass:"m-span-label"},[e._v("采样地点：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"400px"},attrs:{size:"default"},model:{value:e.caiyang_site,callback:function(t){e.caiyang_site=t},expression:"caiyang_site"}})],1)]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("3、钻孔信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔负责人：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_person_name,callback:function(t){e.drill_person_name=t},expression:"drill_person_name"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("联系方式：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_person_contact,callback:function(t){e.drill_person_contact=t},expression:"drill_person_contact"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔深度(m)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_depth,callback:function(t){e.drill_depth=t},expression:"drill_depth"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻孔直径(mm)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_diameter,callback:function(t){e.drill_diameter=t},expression:"drill_diameter"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔方法：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_method,callback:function(t){e.drill_method=t},expression:"drill_method"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻机型号：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_machine_model,callback:function(t){e.drill_machine_model=t},expression:"drill_machine_model"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("初见水位(m)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.chujian_water_level,callback:function(t){e.chujian_water_level=t},expression:"chujian_water_level"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("止孔深度(m)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.zhikong_depth,callback:function(t){e.zhikong_depth=t},expression:"zhikong_depth"}})],1)]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("4、钻进操作记录")]),e._v(" "),a("div",{attrs:{id:"drillOperateRecordList"}},[a("Table",{ref:"operateRecordTable",style:"left:"+e.tableLeftEdge+"px;",attrs:{size:"large",border:"",width:e.tableRealWidth,columns:e.table_column_arr,data:e.table_data_arr}})],1),e._v(" "),a("div",{staticClass:"m-placeholder"},[e._v("  ")]),e._v(" "),a("hr",{staticStyle:{position:"relative","margin-top":"20px","margin-bottom":"20px",height:"2px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("钻孔负责人：")]),e._v(" "),a("span",[a("Input",{ref:"drill_twin_input",staticStyle:{width:"100px",display:"inline-block"},attrs:{size:"default"},model:{value:e.drill_person_name,callback:function(t){e.drill_person_name=t},expression:"drill_person_name"}})],1)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("记录人：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"100px",display:"inline-block"},attrs:{size:"default"},model:{value:e.record_person_name,callback:function(t){e.record_person_name=t},expression:"record_person_name"}})],1)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("采样单位的内审签名：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px",display:"inline-block"},attrs:{size:"default"},model:{value:e.neishen_signature,callback:function(t){e.neishen_signature=t},expression:"neishen_signature"}})],1)]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",[a("Button",{attrs:{type:"primary",size:"large"},on:{click:e.saveFillInHandler}},[e._v("保存模板")])],1),e._v(" "),a("br"),e._v(" "),a("br")])],1)},staticRenderFns:[]};var N=a("VU/8")(R,L,!1,function(e){a("9Laf"),a("XgM2")},"data-v-20060ee1",null).exports,z={name:"view_soil_drill_template",data:function(){var e;return e={table_data_arr:[],table_column_arr:[],ifShowLoadingNowFlag:!0,currentTemplateId:"",ifShowImageFlag:!1,openTheDatePickPanelFlag:!1,table_view_column_arr:[],table_view_data_arr:[],tableViewLeftEdge:0,tableViewRealWidth:743,tableForPDFViewRealWidth:744,selectedDateForFillTable:"",dikuai_name:"",dikuai_code:"",budian_person:"",budian_date:"",caiyang_date:"",caiyang_person:"",weather_info:"",dianwei_number:"",jingdu:"",weidu:"",caiyang_site:"",drill_person_name:"",drill_person_contact:"",drill_depth:"",drill_method:"",drill_diameter:"",drill_machine_model:"",chujian_water_level:"",zhikong_depth:"",record_person_name:"",neishen_signature:"",arr_sample_number:[],arr_zuanjin_depth:[],arr_diceng_describe:[],arr_wuran_describe:[],arr_caiyang_depth:[],arr_photo_filepath:[],arr_photo_comment:[],arr_photo_datetime:[],alreadyUploadedImagesList:[]},x()(e,"ifShowImageFlag",!1),x()(e,"imgShowContainerEdgeW",""),x()(e,"imgShowContainerRealWidth",960),x()(e,"imageRealShowWidth",""),x()(e,"imageRealShowHeight",""),x()(e,"currentShowImageURL",""),x()(e,"currentShowImageFileName",""),x()(e,"currentShowImageDateTime","(照片拍摄时间：2018-07-15 09:26)"),x()(e,"currentShowImageComment",""),x()(e,"imgShowContainerRealHeight",750),x()(e,"imgSelfShowFlag",!1),x()(e,"ifDeleteOneImageHintFlag",!1),x()(e,"currentShowImageIndex",-1),x()(e,"template_table_name",""),x()(e,"template_date",""),x()(e,"table_view_column_arr_pdf",[]),x()(e,"pdfFileName",""),x()(e,"ifExportPDFFileFlag",!1),e},mounted:function(){document.body.scrollTop=0,window.scrollTo(0,0),this.currentTemplateId=Number(this.$route.params.id),this.getPointedSoilDrillTemplate(),this.rearrangeUIAfterResizeShowArea()},methods:{echoParent:function(){this.rearrangeUIAfterResizeShowArea()},customTableRowContentStyleForPDF:function(e,t){return"m-table-row-pdf-style"},customTableRowContentNormalStyle:function(e,t){return"m-table-row-style"},initReadyOK:function(){this.ifShowLoadingNowFlag=!1,this.rearrangeUIAfterResizeShowArea()},getPointedSoilDrillTemplate:function(){var e=this,t=new URLSearchParams;t.append("template_id",this.currentTemplateId),this.axios({method:"post",url:"http://huankepy.neuseer.cn/select_pointed_soil_drill_template",data:t}).then(function(t){var a=[{title:"（m）",key:"zuanjin_depth",align:"center",width:100}],i=[{title:"土质分类、密度、颜色、湿度",key:"diceng_describe",align:"center",width:220}],n=[{title:"气味、污染痕迹、油状物等",key:"wuran_describe",align:"center",width:220}],l=[{title:"（m）",key:"caiyang_depth",align:"center",width:100}];e.table_view_column_arr=[],e.table_view_column_arr[0]={title:"样品编号",key:"sample_number",width:100,align:"center"},e.table_view_column_arr[1]={title:"钻进深度",key:"zuanjin_depth",width:100,align:"center",children:a},e.table_view_column_arr[2]={title:"地层描述",key:"diceng_describe",width:220,align:"center",children:i},e.table_view_column_arr[3]={title:"污染描述",key:"wuran_describe",width:220,align:"center",children:n},e.table_view_column_arr[4]={title:"采样深度",key:"caiyang_depth",width:100,align:"center",children:l},e.table_view_column_arr_pdf=[],e.table_view_column_arr_pdf[0]={title:"样品编号",key:"sample_number",width:100,align:"center"},e.table_view_column_arr_pdf[1]={title:"钻进深度",key:"zuanjin_depth",width:100,align:"center",children:a},e.table_view_column_arr_pdf[2]={title:"地层描述",key:"diceng_describe",width:220,align:"center",children:i},e.table_view_column_arr_pdf[3]={title:"污染描述",key:"wuran_describe",width:220,align:"center",children:n},e.table_view_column_arr_pdf[4]={title:"采样深度",key:"caiyang_depth",width:100,align:"center",children:l};var r,s=e.$store.state.soil_drill_template_table_fields,o=JSON.parse(t.data.result);for(e.template_table_name=o[0][s.indexOf("template_table_name")],e.record_person_name=o[0][s.indexOf("record_person_name")],e.neishen_signature=o[0][s.indexOf("neishen_signature")],console.log("this.neishen_signature=="+e.neishen_signature),e.dikuai_name=o[0][s.indexOf("dikuai_name")],console.log("this.dikuai_name=="+e.dikuai_name),e.dikuai_code=o[0][s.indexOf("dikuai_code")],console.log("this.dikuai_code=="+e.dikuai_code),e.budian_person=o[0][s.indexOf("budian_person")],console.log("this.budian_person=="+e.budian_person),e.budian_date=o[0][s.indexOf("budian_date")],console.log("this.budian_date=="+e.budian_date),e.caiyang_date=o[0][s.indexOf("caiyang_date")],console.log("this.caiyang_date=="+e.caiyang_date),e.caiyang_person=o[0][s.indexOf("caiyang_person")],console.log("this.caiyang_person=="+e.caiyang_person),e.weather_info=o[0][s.indexOf("weather_info")],console.log("this.weather_info=="+e.weather_info),e.dianwei_number=o[0][s.indexOf("dianwei_number")],console.log("this.dianwei_number=="+e.dianwei_number),e.jingdu=o[0][s.indexOf("jingdu")],console.log("this.jingdu=="+e.jingdu),e.weidu=o[0][s.indexOf("weidu")],console.log("this.weidu=="+e.weidu),e.caiyang_site=o[0][s.indexOf("caiyang_site")],console.log("this.caiyang_site=="+e.caiyang_site),e.drill_person_name=o[0][s.indexOf("drill_person_name")],console.log("this.drill_person_name=="+e.drill_person_name),e.drill_person_contact=o[0][s.indexOf("drill_person_contact")],console.log("this.drill_person_contact=="+e.drill_person_contact),e.drill_depth=o[0][s.indexOf("drill_depth")],console.log("this.drill_depth=="+e.drill_depth),e.drill_diameter=o[0][s.indexOf("drill_diameter")],console.log("this.drill_diameter=="+e.drill_diameter),e.drill_method=o[0][s.indexOf("drill_method")],console.log("this.drill_method=="+e.drill_method),e.drill_machine_model=o[0][s.indexOf("drill_machine_model")],console.log("this.drill_machine_model=="+e.drill_machine_model),e.chujian_water_level=o[0][s.indexOf("chujian_water_level")],console.log("this.chujian_water_level=="+e.chujian_water_level),e.zhikong_depth=o[0][s.indexOf("zhikong_depth")],console.log("this.zhikong_depth=="+e.zhikong_depth),e.arr_sample_number=o[0][s.indexOf("arr_sample_number")].split("**"),e.arr_zuanjin_depth=o[0][s.indexOf("arr_zuanjin_depth")].split("**"),e.arr_diceng_describe=o[0][s.indexOf("arr_diceng_describe")].split("**"),e.arr_wuran_describe=o[0][s.indexOf("arr_wuran_describe")].split("**"),e.arr_caiyang_depth=o[0][s.indexOf("arr_caiyang_depth")].split("**"),e.table_view_data_arr=[],r=0;r<e.arr_sample_number.length;r++)e.table_view_data_arr.push({sample_number:e.arr_sample_number[r],zuanjin_depth:e.arr_zuanjin_depth[r],diceng_describe:e.arr_diceng_describe[r],wuran_describe:e.arr_wuran_describe[r],caiyang_depth:e.arr_caiyang_depth[r]});e.initReadyOK()})},setScrollToBottom:function(){document.body.scrollTop=document.body.scrollHeight,window.scrollTo(0,document.body.scrollHeight)},rearrangeUIAfterResizeShowArea:function(){this.tableViewLeftEdge=(760-this.tableViewRealWidth)/2,this.imgShowContainerEdgeW=(document.body.offsetWidth-this.imgShowContainerRealWidth)/2,this.imgShowContainerRealHeight=document.documentElement.clientHeight-61,this.d("loadingEntityForViewSoilDrillTemplate").style.left=(document.body.offsetWidth-this.d("loadingEntityForViewSoilDrillTemplate").offsetWidth)/2+"px"},readyForEditAgain:function(){this.$router.push("/template/compile_soil_drill_template/"+this.currentTemplateId)}}},j={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"view_soil_drill_template"}},[a("Breadcrumb",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],staticStyle:{"text-align":"left","margin-left":"100px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_entrance"}},[e._v("土壤类记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_list/0"}},[e._v("电子土壤钻孔记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/template/list/soil_drill_template_list/0"}},[e._v("模板列表")]),e._v(" "),a("BreadcrumbItem",[e._v("查看已有模板")])],1),e._v(" "),a("div",{attrs:{id:"newTableTitleHint"}},[e._v("\n    "+e._s(e.template_table_name)+"\n  ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag&&!e.ifShowLoadingNowFlag,expression:"!ifShowImageFlag && !ifShowLoadingNowFlag"}],attrs:{id:"fillContentLayer"}},[a("hr",{staticStyle:{"margin-top":"30px",height:"1px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("1、基本信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("地块名称：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.dikuai_name)+"\n        ")]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("地块编码：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.dikuai_code)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("布点人员：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.budian_person)+"\n        ")]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("布点日期：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.budian_date)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("2、点位信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("采样日期：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.caiyang_date))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("采样人员：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.caiyang_person))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("天气：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.weather_info))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("点位编号：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.dianwei_number))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("经度：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.jingdu))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("纬度：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.weidu))])]),e._v(" "),a("div",{staticClass:"m-single"},[a("span",{staticClass:"m-span-label"},[e._v("采样地点：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.caiyang_site))])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("3、钻孔信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔负责人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_person_name))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("联系方式：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_person_contact)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔深度(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_depth))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻孔直径(mm)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_diameter))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔方法：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_method))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻机型号：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_machine_model))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("初见水位(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.chujian_water_level))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("止孔深度(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.zhikong_depth))])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("4、钻进操作记录")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&e.table_view_data_arr.length>0,expression:"!ifShowLoadingNowFlag && table_view_data_arr.length>0"}],attrs:{id:"drillOperatetemplateList"}},[a("Table",{ref:"operatetemplateTable",style:"left:"+e.tableViewLeftEdge+"px;",attrs:{"row-class-name":e.customTableRowContentNormalStyle,size:"large",border:"",width:e.tableViewRealWidth,columns:e.table_view_column_arr,data:e.table_view_data_arr,"disabled-hover":""}})],1),e._v(" "),a("div",{staticClass:"m-placeholder"},[e._v("  ")]),e._v(" "),a("hr",{staticStyle:{position:"relative","margin-bottom":"20px",height:"2px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("钻孔负责人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_person_name))])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("记录人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.record_person_name))])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("采样单位的内审签名：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.neishen_signature))])]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"},attrs:{id:"currentFillInStatusHintContainer"}},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:e.readyForEditAgain}},[e._v("点击重新编辑")])],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br")]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForViewSoilDrillTemplate"}})],1)},staticRenderFns:[]};var A=a("VU/8")(z,j,!1,function(e){a("g8Bs"),a("1C7D")},"data-v-82694aee",null).exports,D={name:"soil_drill_template_list",data:function(){return{ifShowLoadingNowFlag:!0,table_column_arr:[],table_data_arr:[],tableLeftEdge:10,tableRealWidth:602,showDelPopupBesureBoxFlag:!1,hintIFDelOneOrSomeTemplatesWord:"",ifCreateOneNewTemplateFlag:!1,recordsList:[],latestBreadHere:""}},mounted:function(){var e=this;this.soilTableTypeIndex=Number(this.$route.params.id),0==this.soilTableTypeIndex?this.latestBreadHere="电子土壤钻孔记录表":1==this.soilTableTypeIndex&&(this.latestBreadHere="电子土壤样品采集现场记录表"),this.table_column_arr=[],this.table_column_arr.push({type:"selection",width:50,align:"center"}),this.table_column_arr.push({title:"模板名称",key:"name",width:350,align:"left",render:function(t,a){return t("span",{domProps:{innerHTML:a.row.name,title:"点击查看"},style:{cursor:"pointer",color:"#007FFF"},on:{click:function(){e.viewOneTemplate(""+a.row._index)}}})}}),this.table_column_arr.push({title:"模板更新的时间",key:"update_template_time",width:200,align:"center"}),this.rearrangeUIAfterResizeShowArea(),this.requestDBForBasicData()},methods:{readyForShowTemplateList:function(){this.$router.push("/template/list/soil_drill_template_list")},echoParent:function(){this.rearrangeUIAfterResizeShowArea()},requestDBForBasicData:function(){var e=this;this.table_data_arr=[];var t=new URLSearchParams;t.append("username",""),this.axios({method:"post",url:"http://huankepy.neuseer.cn/select_soil_drill_template",data:t}).then(function(t){if("[]"==t.data.result);else for(var a=JSON.parse(t.data.result),i=a.length,n=e.$store.state.soil_drill_template_table_fields,l=0;l<i;l++)e.table_data_arr.push({name:a[l][n.indexOf("template_table_name")],update_template_time:a[l][n.indexOf("update_date_time")],id:a[l][n.indexOf("id")]});e.initReadyOK()}).catch(function(t){console.log("access py error: "+t),e.initReadyOK()})},judgeIFHavePhoto:function(e){e.split("**");return""==e?"无":1==e.length&&""==e[0]?"无":"有"},ok_del:function(){this.execDeleteTemplateHandler()},cancel_del:function(){},initReadyOK:function(){this.ifShowLoadingNowFlag=!1},viewOneTemplate:function(e){this.$store.state.currentSelectedTemplateID=this.table_data_arr[e].id,0==this.soilTableTypeIndex?this.$router.push("/template/view_soil_drill_template/"+this.table_data_arr[e].id):1==this.soilTableTypeIndex&&alert("查看电子土壤样品采集现场记录表的某一记录：稍后开放")},execDeleteTemplateHandler:function(){var e=this,t=this.$refs.templateTable.getSelection();this.deletedAmount=0;for(var a=0;a<t.length;a++){var i=new URLSearchParams;i.append("template_id",t[a].id),this.axios({method:"post",url:"http://huankepy.neuseer.cn/delete_soil_drill_template",data:i}).then(function(a){e.deletedAmount++,e.deletedAmount==t.length&&(alert("删除模板成功！"),e.requestDBForBasicData())})}},readyForDelTemplates:function(){0==this.$refs.templateTable.getSelection().length?alert("请勾选相应的模板"):(1==this.$refs.templateTable.getSelection().length?this.hintIFDelOneOrSomeTemplatesWord="确定要删除该模板吗？":this.$refs.templateTable.getSelection().length>1&&(this.hintIFDelOneOrSomeTemplatesWord="确定要删除这几个模板吗？"),this.showDelPopupBesureBoxFlag=!0)},createOneNewTemplate:function(){this.ifCreateOneNewTemplateFlag=!0},rearrangeUIAfterResizeShowArea:function(){this.d("zhuankong_title").style.width=document.body.offsetWidth+"px",this.d("createBtnTwin").style.width=document.body.offsetWidth+"px",this.d("noTemplateHint").style.width=document.body.offsetWidth+"px",this.tableLeftEdge=(this.$store.state.coreBlockAreaWidth-this.tableRealWidth)/2,this.d("loadingEntityForSoilList").style.left=(document.body.offsetWidth-this.d("loadingEntityForSoilList").offsetWidth)/2+"px"},createTemplate:function(){var e=this.d("newTemplateNameTB").value.trim();""==e?(this.$Message.info("请输入有效的模板名称"),setTimeout(this.atOnceReShow,0)):this.repeatNameJudgement(e)?(this.$Message.info("该模板名称已存在，请重新命名"),setTimeout(this.atOnceReShow,0)):-1!=escape(e).indexOf("%u")&&e.length>20?(alert("模板命名请不要超过20个汉字的长度"),setTimeout(this.atOnceReShow,0)):e.length>30?(alert("模板命名请不要超过30个英文半角字符的长度"),setTimeout(this.atOnceReShow,0)):(this.$store.state.currentTemplateName=e,this.$store.state.currentSelectedTemplateID=0,0==this.soilTableTypeIndex?this.$router.push("/template/compile_soil_drill_template/0"):1==this.soilTableTypeIndex&&alert("“电子土壤样品采集现场记录表的模板” 暂时不开放创建"))},repeatNameJudgement:function(e){for(var t=this.table_data_arr.length,a=!1,i=0;i<t;i++)if(this.table_data_arr[i].name==e){a=!0;break}return a},atOnceReShow:function(){this.ifCreateOneNewTemplateFlag=!0},cancelCreateTemplateQuit:function(){}}},E={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"soil_list"}},[a("Breadcrumb",{staticStyle:{"text-align":"left","margin-left":"100px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_entrance"}},[e._v("土壤类记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_list/0"}},[e._v(e._s(e.latestBreadHere))]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/template/list/soil_drill_template_list/0"}},[e._v("模板列表")])],1),e._v(" "),a("div",{attrs:{id:"zhuankong_title"}},[e._v("\n    "+e._s(e.latestBreadHere)+"的模板列表\n  ")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&e.table_data_arr.length>0,expression:"!ifShowLoadingNowFlag && table_data_arr.length>0"}],attrs:{id:"soilList"}},[a("Table",{ref:"templateTable",style:"left:"+e.tableLeftEdge+"px;",attrs:{size:"large",border:"",width:e.tableRealWidth,columns:e.table_column_arr,data:e.table_data_arr}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&e.table_data_arr.length>0,expression:"!ifShowLoadingNowFlag && table_data_arr.length>0"}],style:"margin-left:"+e.tableLeftEdge+"px;",attrs:{id:"delBtn"}},[a("Button",{on:{click:e.readyForDelTemplates}},[e._v("删除模板")]),e._v(" "),a("div",{style:"position:relative;display:inline-block;float:right;right:"+e.tableLeftEdge+"px;",attrs:{id:"createBtn"}},[a("Button",{on:{click:e.createOneNewTemplate}},[e._v("创建新模板")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&0==e.table_data_arr.length,expression:"!ifShowLoadingNowFlag && table_data_arr.length==0"}],attrs:{id:"noTemplateHint"}},[e._v("（暂无模板）")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&0==e.table_data_arr.length,expression:"!ifShowLoadingNowFlag && table_data_arr.length==0"}],attrs:{id:"createBtnTwin"}},[a("Button",{on:{click:e.createOneNewTemplate}},[e._v("创建新模板\n    ")])],1),e._v(" "),a("Modal",{attrs:{width:"400",title:"温馨提示"},on:{"on-ok":e.ok_del,"on-cancel":e.cancel_del},model:{value:e.showDelPopupBesureBoxFlag,callback:function(t){e.showDelPopupBesureBoxFlag=t},expression:"showDelPopupBesureBoxFlag"}},[a("p",{staticClass:"m-popup-modal"},[e._v(e._s(e.hintIFDelOneOrSomeTemplatesWord))])]),e._v(" "),a("Modal",{staticClass:"vertical-center-modal",attrs:{title:"新建一个模板",width:"360"},on:{"on-ok":e.createTemplate,"on-cancel":e.cancelCreateTemplateQuit},model:{value:e.ifCreateOneNewTemplateFlag,callback:function(t){e.ifCreateOneNewTemplateFlag=t},expression:"ifCreateOneNewTemplateFlag"}},[a("div",{staticClass:"m-input-record-name-box"},[a("div",[a("input",{staticClass:"input-newTemplateNameTB",attrs:{type:"text",placeholder:"请输入模板名称...",id:"newTemplateNameTB",onfocus:"this.placeholder='';",onblur:"this.value==''?this.placeholder='请输入模板名称...':this.placeholder='';"}})])])]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForSoilList"}})],1)},staticRenderFns:[]};var B=a("VU/8")(D,E,!1,function(e){a("Zyzs"),a("zOyQ")},"data-v-28e714a2",null).exports;l.default.use(c.a);var U=new c.a({mode:"hash",routes:[{path:"/",redirect:"/main"},{path:"/main",name:"Main",component:h},{path:"/soil_entrance",name:"SoilEntrance",component:g},{path:"/water_entrance",name:"WaterEntrance",component:f},{path:"/soil_list/:id",name:"SoilList",component:y},{path:"/edit_soil_drill_record/:id",name:"EditSoilDrillRecord",component:I},{path:"/view_soil_drill_record/:id",name:"ViewSoilDrillRecord",component:T},{path:"/template/compile_soil_drill_template/:id",name:"CompileSoilDrillTemplate",component:N},{path:"/template/list/soil_drill_template_list/:id",name:"SoilDrillTemplateList",component:B},{path:"/template/view_soil_drill_template/:id",name:"ViewSoilDrillTemplate",component:A}]}),V=a("NYxO"),P=function(e,t){(0,e.commit)("LOADING",t)},H=function(e,t){(0,e.commit)("THEME",t)},W=function(e){return e.loading.loading},$=function(e){return e.theme.theme},M={state:{loading:!1},mutations:x()({},"LOADING",function(e,t){e.loading=t})},J={state:{theme:"light"},mutations:x()({},"THEME",function(e,t){e.theme=t})},K=(a("mvHQ"),a("BO1k"),a("fZjL")),q=a.n(K),Q=a("pFYg"),G=a.n(Q),Y=function(e,t){return e.filter(t)[0]};function Z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===e||"object"!==(void 0===e?"undefined":G()(e)))return e;var a=Y(t,function(t){return t.original===e});if(a)return a.copy;var i=Array.isArray(e)?[]:{};return t.push({original:e,copy:i}),q()(e).forEach(function(a){i[a]=Z(e[a],t)}),i}var X={mixin:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},d:function(e){return document.getElementById(e)},tranFirstLetterUpperPresent:function(e){if(""==e)return"";var t=e.slice(0,1),a=e.slice(1);return t.toUpperCase()+a},getCurrentDateAndTime:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate(),i=e.getHours(),n=e.getMinutes();return t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i),n>=0&&n<=9&&(n="0"+n),e.getFullYear()+"-"+t+"-"+a+" "+i+":"+n}},ee=X;function te(e,t){return a="0",i=t-e.toString().length,new Array(i+1).join(a)+e;var a,i}l.default.use(V.a);var ae=new V.a.Store({actions:i,getters:n,modules:{loading:M,theme:J},strict:!0,plugins:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.collapsed,a=void 0===t||t,i=e.transformer,n=void 0===i?function(e){return e}:i,l=e.mutationTransformer,r=void 0===l?function(e){return e}:l;return function(e){var t=Z(e.state);e.subscribe(function(e,i){if("undefined"!=typeof console){var l=Z(i),s=new Date,o=" @ "+te(s.getHours(),2)+":"+te(s.getMinutes(),2)+":"+te(s.getSeconds(),2)+"."+te(s.getMilliseconds(),3),d=r(e),_="mutation "+e.type+o,c=a?console.groupCollapsed:console.group;try{c.call(console,_)}catch(e){console.log(_)}console.log("%c prev state","color: #9E9E9E; font-weight: bold",n(t)),console.log("%c mutation","color: #03A9F4; font-weight: bold",d),console.log("%c next state","color: #4CAF50; font-weight: bold",n(l));try{console.groupEnd()}catch(e){console.log("—— log end ——")}t=l}})}}()]}),ie=a("mtWM"),ne=a.n(ie),le=a("zL8q"),re=a.n(le),se=(a("tvR6"),a("TXmL")),oe=a("zRM5"),de=a.n(oe),_e=(a("qFup"),{render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{attrs:{id:"circleLoadingContainer"}},[t("div",{staticClass:"loadEffect"},[t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span")])])])}]});var ce=a("VU/8")(null,_e,!1,function(e){a("Edpw")},"data-v-76d1b294",null).exports,pe={install:function(e){e.component("circleLoading",ce)}},he=(a("4bFZ"),a("iE8p")),me=a.n(he),ue=a("a40n"),ge=a.n(ue),ve={install:function(e,t){e.prototype.getPdf=function(){var e=this.pdfFileName;document.querySelector("#pdfDom").style.display="block",setTimeout('document.querySelector("#pdfDom").style.display = "none"',3e3),me()(document.querySelector("#pdfDom"),{allowTaint:!0}).then(function(t){var a=t.width,i=t.height,n=a/592.28*841.89,l=i,r=0,s=592.28/a*i,o=t.toDataURL("image/jpeg",1),d=new ge.a("","pt","a4");if(l<n)d.addImage(o,"JPEG",0,0,595.28,s);else for(;l>0;)d.addImage(o,"JPEG",0,r,595.28,s),r-=841.89,(l-=n)>0&&d.addPage();d.save(e+".pdf")})}}};l.default.use(ve),l.default.use(se.a),l.default.use(re.a),l.default.use(de.a),l.default.use(pe),l.default.config.productionTip=!1,U.beforeEach(function(e,t,a){e.meta.title&&(document.title=e.meta.title),a()}),U.afterEach(function(e){}),l.default.prototype.d=ee.d,l.default.prototype.tranFirstLetterUpperPresent=ee.tranFirstLetterUpperPresent,l.default.prototype.getCurrentDateAndTime=ee.getCurrentDateAndTime,l.default.prototype.axios=ne.a,ne.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",new l.default({el:"#app",router:U,store:ae,components:{App:_},template:"<App/>"})},NbZF:function(e,t){},QngH:function(e,t){},XgM2:function(e,t){},Zyzs:function(e,t){},dGQn:function(e,t){},g8Bs:function(e,t){},htW8:function(e,t){},ifZ3:function(e,t){},oGtf:function(e,t){},qFup:function(e,t){},qgt5:function(e,t){},sG3E:function(e,t){},tvR6:function(e,t){},zOyQ:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.87662a72791df853d575.js.map