webpackJsonp([1],{"+skl":function(e,t){},"/epu":function(e,t){},"4bFZ":function(e,t){Date.prototype.Format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[a]:("00"+t[a]).substr((""+t[a]).length)));return e},Array.prototype.in_array=function(e){for(i=0;i<this.length&&this[i]!=e;i++);return!(i==this.length)},Array.prototype.shuffle=function(){for(var e=this.length,t=void 0;e;){var a=[this[t=Math.random()*e-->>>0],this[e]];this[e]=a[0],this[t]=a[1]}return this},String.prototype.myReplace=function(e,t){var a=new RegExp(e,"g");return this.replace(a,t)},String.prototype.trim=function(){return this.replace(/(^\s*)|(\s*$)/g,"")}},"9dar":function(e,t){},"AYF+":function(e,t){},CGHd:function(e,t){},GGqT:function(e,t){},IZFU:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={};a.d(i,"loading",function(){return L}),a.d(i,"theme",function(){return F});var n={};a.d(n,"getLoading",function(){return k}),a.d(n,"getTheme",function(){return A});var r=a("7+uW"),s={data:function(){return{comingSoonFlag:!0,path:"",username:"",hintTabWaringModel:!1,whereAddressIndex:null,tempAddIndex:-1}},watch:{"$route.path":function(){}},mounted:function(){"tasks"==window.localStorage.currentPath?this.whereAddressIndex=1:this.whereAddressIndex=0},methods:{goWhere:function(e){if("/open"==this.$route.path)return this.hintTabWaringModel=!0,void(this.tempAddIndex=e);this.$route.path.indexOf("refactor-task")>-1?this.$store.state.nextPlace=0==e?"/projects":"/tasks":(this.whereAddressIndex=e,0==e?this.$router.push("/soil_entrance"):1==e?this.$router.push("/water_entrance"):2==e&&this.$router.push("/config"))}}},l={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"header1"},[t("div",{staticClass:"logo"},[t("img",{attrs:{src:a("cH+4")}}),this._v("\n    环科中心 · 土壤和地下水采样数据记录管理系统\n  ")]),this._v(" "),t("div",{attrs:{id:"adminInfo"}},[this._v("\n    版本号：1.0  （请由管理员操作）\n  ")])])}]};var o={name:"App",components:{"header-index":a("VU/8")(s,l,!1,function(e){a("9dar")},"data-v-1e6deed2",null).exports},mounted:function(){this.$router.push("/"),this.trackWindowOnResize(),window.onresize=this.trackWindowOnResize},methods:{trackWindowOnResize:function(){this.$store.state.coreBlockAreaWidth=document.body.offsetWidth,null!=this.$refs.sonCore&&this.$refs.sonCore.echoParent()}}},d={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("div",{staticClass:"wrapper"},[t("header-index",{ref:"headerIndex",staticClass:"header-index"}),this._v(" "),t("div",{staticClass:"main clearfix",attrs:{id:"cc"}},[t("div",{staticClass:"con-main"},[t("router-view",{ref:"sonCore"})],1)])],1)])},staticRenderFns:[]};var c=a("VU/8")(o,d,!1,function(e){a("/epu")},null,null).exports,_=a("/ocq"),h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"main_entrance"}},[a("div",{attrs:{id:"title"}},[e._v("\n    主分类入口\n  ")]),e._v(" "),a("div",{style:"left:"+e.bigEntranceBtnsContainerLeftEdge+"px",attrs:{id:"bigEntranceButtonsContainer"}},[a("span",{staticClass:"m-left-big-btn"},[a("Card",{staticStyle:{width:"220px",height:"180px"}},[a("div",{staticClass:"m-bigCard",on:{click:e.jumpSoilEntrance}},[a("img",{attrs:{src:"/static/soil.png"}}),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{"font-size":"28px","font-weight":"bold"}},[e._v("土壤")])])])],1),e._v(" "),a("span",{staticClass:"m-right-big-btn"},[a("Card",{staticStyle:{width:"220px",height:"180px"}},[a("div",{staticClass:"m-bigCard",on:{click:e.jumpWaterEntrance}},[a("img",{attrs:{src:"/static/water.png"}}),e._v(" "),a("br"),e._v(" "),a("span",{staticStyle:{"font-size":"28px","font-weight":"bold"}},[e._v("地下水")])])])],1)])])},staticRenderFns:[]};var u=a("VU/8")({name:"Main",data:function(){return{bigEntranceBtnsContainerLeftEdge:-1}},mounted:function(){this.rearrangeUIAfterResizeShowArea()},methods:{echoParent:function(){this.rearrangeUIAfterResizeShowArea()},rearrangeUIAfterResizeShowArea:function(){this.bigEntranceBtnsContainerLeftEdge=(this.$store.state.coreBlockAreaWidth-800)/2},jumpSoilEntrance:function(){this.$router.push("/soil_entrance")},jumpWaterEntrance:function(){this.$router.push("/water_entrance")}}},h,!1,function(e){a("AYF+"),a("UmLf")},"data-v-39393e74",null).exports,m={name:"soil_entrance",data:function(){return{ifShowLoadingNowFlag:!0,table_column_arr:[],table_data_arr:[],tableLeftEdge:10,ifCreateOneNewRecordFlag:!1,recordsList:[],tableRealWidth:502,soilTableTypeIndex:-1,currentRequestTable:"",soil_drill_table_record_amount:3,soil_sample_gather_table_record_amount:1}},mounted:function(){var e=this;this.table_column_arr=[],this.table_column_arr.push({title:"表名",key:"tableName",width:300,align:"left",render:function(t,a){return t("span",{domProps:{innerHTML:a.row.tableName,title:"查看历史记录"},style:{cursor:"pointer",color:"#007FFF"},on:{click:function(){e.wantToViewRecords(""+a.row._index)}}})}}),this.table_column_arr.push({title:"已填写",key:"amount",width:100,align:"center"}),this.table_column_arr.push({title:"快速新建",key:"new",width:100,align:"center",render:function(t,a){return t("div",[t("Icon",{props:{type:"compose",size:20},style:{cursor:"pointer"},on:{click:function(){e.wantToNewOneRecord(""+a.row._index)}}})])}}),this.requestPointedSoilTableRecordAmount("DC_Soil_Drill"),this.rearrangeUIAfterResizeShowArea()},methods:{echoParent:function(){this.rearrangeUIAfterResizeShowArea()},initReadyOK:function(){this.ifShowLoadingNowFlag=!1,this.table_data_arr=[],this.table_data_arr.push({tableName:"电子土壤钻孔记录表",amount:this.soil_drill_table_record_amount,new:"write"}),this.table_data_arr.push({tableName:"电子土壤样品采集现场记录表",amount:this.soil_sample_gather_table_record_amount,new:"write"})},wantToViewRecords:function(e){0==e?this.$router.push("/soil_list/"+e):alert("“电子土壤样品采集现场记录表” 暂时不开放查看存档记录")},wantToNewOneRecord:function(e){this.soilTableTypeIndex=e,this.soilTableTypeIndex>0?alert("“电子土壤样品采集现场记录表” 暂时不开放填写"):this.ifCreateOneNewRecordFlag=!0},rearrangeUIAfterResizeShowArea:function(){this.tableLeftEdge=(this.$store.state.coreBlockAreaWidth-this.tableRealWidth)/2,this.d("loadingEntityForSoilEntrance").style.left=(document.body.offsetWidth-this.d("loadingEntityForSoilEntrance").offsetWidth)/2+"px"},createRecord:function(){var e=this.d("newRecordNameTB").value.trim();""==e?(this.$Message.info("请输入有效的采样记录名称"),setTimeout(this.atOnceReShow,0)):this.repeatNameJudgement(e)?(this.$Message.info("该名称已存在，请重新命名"),setTimeout(this.atOnceReShow,0)):-1!=escape(e).indexOf("%u")&&e.length>20?(alert("采样记录命名请不要超过20个汉字的长度"),setTimeout(this.atOnceReShow,0)):e.length>30?(alert("采样记录命名请不要超过30个英文半角字符的长度"),setTimeout(this.atOnceReShow,0)):(this.$store.state.recordName=e,this.$store.state.currentSelectedRecordID=0,this.$router.push("/edit_soil_drill_record/0"))},cancelCreateRecordQuit:function(){},atOnceReShow:function(){this.ifCreateOneNewRecordFlag=!0},repeatNameJudgement:function(e){for(var t=this.recordsList.length,a=!1,i=0;i<t;i++)if(null!=this.recordsList[i].record_name&&this.recordsList[i].record_name==e){a=!0;break}return a},requestPointedSoilTableRecordAmount:function(e){var t=this;this.currentRequestTable=e;var a=new URLSearchParams;a.append("which_one_table",e),this.axios({method:"post",url:"http://datestpy.neuseer.cn/get_one_soil_table_record_amount",data:a}).then(function(e){var a=Number(JSON.parse(e.data.result));"DC_Soil_Drill"==t.currentRequestTable?(t.soil_drill_table_record_amount=a,t.requestPointedSoilTableRecordAmount("DC_Soil_Sample_Gather")):"DC_Soil_Sample_Gather"==t.currentRequestTable&&(t.soil_sample_gather_table_record_amount=a,t.initReadyOK())}).catch(function(e){console.log("access py error: "+e),t.initReadyOK()})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"soil_entrance"}},[a("Breadcrumb",{staticStyle:{"text-align":"left","margin-left":"130px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",[e._v("土壤类记录表")])],1),e._v(" "),a("div",{attrs:{id:"title"}},[e._v("\n    土壤类记录表\n  ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag,expression:"!ifShowLoadingNowFlag"}],attrs:{id:"itemsList"}},[a("Table",{style:"left:"+e.tableLeftEdge+"px;",attrs:{size:"large",width:e.tableRealWidth,border:"",columns:e.table_column_arr,data:e.table_data_arr}})],1),e._v(" "),a("Modal",{staticClass:"vertical-center-modal",attrs:{title:"新建一个采样记录",width:"360"},on:{"on-ok":e.createRecord,"on-cancel":e.cancelCreateRecordQuit},model:{value:e.ifCreateOneNewRecordFlag,callback:function(t){e.ifCreateOneNewRecordFlag=t},expression:"ifCreateOneNewRecordFlag"}},[a("div",{staticClass:"m-input-record-name-box"},[a("div",[a("input",{staticClass:"input-newRecordNameTB",attrs:{type:"text",placeholder:"请输入记录名字...",id:"newRecordNameTB",onfocus:"this.placeholder='';",onblur:"this.value==''?this.placeholder='请输入记录名字...':this.placeholder='';"}})])])]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForSoilEntrance"}})],1)},staticRenderFns:[]};var g=a("VU/8")(m,p,!1,function(e){a("CGHd")},"data-v-cce5d6bc",null).exports,v={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"soil_entrance"}},[t("div",{attrs:{id:"title"}},[this._v("\n    地下水环境记录表系列\n  ")]),this._v(" "),t("br"),this._v(" "),t("div",{attrs:{id:"itemsList"}},[this._v("\n    地下水环境记录表系列\n  ")])])}]};var f=a("VU/8")({name:"water_entrance"},v,!1,function(e){a("GGqT")},"data-v-505129ce",null).exports,w={name:"soil_list",data:function(){return{ifShowLoadingNowFlag:!0,table_column_arr:[],table_data_arr:[],tableLeftEdge:10,tableRealWidth:983,showDelPopupBesureBoxFlag:!1,hintIFDelOneOrSomeRecordsWord:"",ifCreateOneNewRecordFlag:!1,recordsList:[],latestBreadHere:""}},mounted:function(){var e=this;this.soilTableTypeIndex=Number(this.$route.params.id),0==this.soilTableTypeIndex?this.latestBreadHere="电子土壤钻孔记录表":1==this.soilTableTypeIndex&&(this.latestBreadHere="电子土壤样品采集现场记录表"),this.table_column_arr=[],this.table_column_arr.push({type:"selection",width:50,align:"center"}),this.table_column_arr.push({title:"记录名称",key:"name",width:350,align:"left",render:function(t,a){return t("span",{domProps:{innerHTML:a.row.name,title:"点击查看详情"},style:{cursor:"pointer",color:"#007FFF"},on:{click:function(){e.viewOneRecord(""+a.row._index)}}})}}),this.table_column_arr.push({title:"创建记录的时间",key:"create_dt",width:200,align:"center"}),this.table_column_arr.push({title:"记录人",key:"person",width:100,align:"center"}),this.table_column_arr.push({title:"照片",key:"photo",width:80,align:"center"}),this.table_column_arr.push({title:"最新编辑的时间",key:"edit_dt",width:200,align:"center"}),this.rearrangeUIAfterResizeShowArea(),this.requestDBForBasicData()},methods:{echoParent:function(){this.rearrangeUIAfterResizeShowArea()},initStaticDataDemo:function(){this.table_data_arr=[],this.table_data_arr.push({name:"红桥区二号院实地勘测",create_dt:"2018-07-05 15:30",person:"朱小雨",photo:"有",edit_dt:"2018-07-05 18:06",id:1001}),this.table_data_arr.push({name:"邕江支流拐弯处108号口岸附近采样",create_dt:"2018-07-07 14:00",person:"聂佳琳",photo:"无",edit_dt:"2018-07-07 17:21",id:1002}),this.table_data_arr.push({name:"龙湖工业园C区土壤采点",create_dt:"2018-07-09 11:00",person:"张卫",photo:"有",edit_dt:"2018-07-10 2:10",id:1003})},requestDBForBasicData:function(){var e=this;this.table_data_arr=[];var t=new URLSearchParams;t.append("username",""),this.axios({method:"post",url:"http://datestpy.neuseer.cn/select_soil_drill_table",data:t}).then(function(t){if("[]"==t.data.result);else for(var a=JSON.parse(t.data.result),i=a.length,n=["id","record_table_name","record_person_name","record_date","first_submit_time","latest_save_time","neishen_signature","dikuai_name","dikuai_code","budian_person","budian_date","caiyang_date","caiyang_person","weather_info","dianwei_number","jingdu","weidu","caiyang_site","drill_person_name","drill_person_contact","drill_depth","drill_diameter","drill_method","drill_machine_model","chujian_water_level","zhikong_depth","arr_sample_number","arr_zuanjin_depth","arr_diceng_describe","arr_wuran_describe","arr_caiyang_depth"],r=0;r<i;r++)e.table_data_arr.push({name:a[r][n.indexOf("record_table_name")],create_dt:a[r][n.indexOf("first_submit_time")],person:a[r][n.indexOf("record_person_name")],photo:"无",edit_dt:a[r][n.indexOf("latest_save_time")],id:a[r][n.indexOf("id")]});e.initReadyOK()}).catch(function(t){console.log("access py error: "+t),e.initStaticDataDemo(),e.initReadyOK()})},ok_del:function(){this.execDeleteRecordHandler()},cancel_del:function(){},initReadyOK:function(){this.ifShowLoadingNowFlag=!1},viewOneRecord:function(e){var t=this.table_data_arr[e].id;this.$store.state.currentSelectedRecordID=t,console.log("recordID="+t),0==this.soilTableTypeIndex?this.$router.push("/view_soil_drill_record/"+t):1==this.soilTableTypeIndex&&alert("查看电子土壤样品采集现场记录表的某一记录：稍后开放")},execDeleteRecordHandler:function(){for(var e=this,t=0;t<this.$refs.recordTable.getSelection().length;t++){var a=new URLSearchParams;a.append("record_id",this.$refs.recordTable.getSelection()[t].id),this.axios({method:"post",url:"http://datestpy.neuseer.cn/delete_soil_drill_record",data:a}).then(function(t){alert("删除记录成功！"),e.requestDBForBasicData()}).catch(function(e){})}},readyForDelRecords:function(){0==this.$refs.recordTable.getSelection().length?alert("请勾选至少一条记录"):(1==this.$refs.recordTable.getSelection().length?this.hintIFDelOneOrSomeRecordsWord="确定要删除该条记录吗？":this.$refs.recordTable.getSelection().length>1&&(this.hintIFDelOneOrSomeRecordsWord="确定要删除这几条记录吗？"),this.showDelPopupBesureBoxFlag=!0)},createOneNewRecord:function(){this.ifCreateOneNewRecordFlag=!0},rearrangeUIAfterResizeShowArea:function(){this.tableLeftEdge=(this.$store.state.coreBlockAreaWidth-this.tableRealWidth)/2,this.d("loadingEntityForSoilList").style.left=(document.body.offsetWidth-this.d("loadingEntityForSoilList").offsetWidth)/2+"px"},createRecord:function(){var e=this.d("newRecordNameTB").value.trim();""==e?(this.$Message.info("请输入有效的采样记录名称"),setTimeout(this.atOnceReShow,0)):this.repeatNameJudgement(e)?(this.$Message.info("该名称已存在，请重新命名"),setTimeout(this.atOnceReShow,0)):-1!=escape(e).indexOf("%u")&&e.length>20?(alert("采样记录命名请不要超过20个汉字的长度"),setTimeout(this.atOnceReShow,0)):e.length>30?(alert("采样记录命名请不要超过30个英文半角字符的长度"),setTimeout(this.atOnceReShow,0)):(this.$store.state.recordName=e,this.$store.state.currentSelectedRecordID=0,0==this.soilTableTypeIndex?this.$router.push("/edit_soil_drill_record/0"):1==this.soilTableTypeIndex&&alert("“电子土壤样品采集现场记录表” 暂时不开放填写"))},repeatNameJudgement:function(e){this.recordsList[0]={},this.recordsList[0].record_name="e";for(var t=this.recordsList.length,a=!1,i=0;i<t;i++)if(null!=this.recordsList[i].record_name&&this.recordsList[i].record_name==e){a=!0;break}return a},atOnceReShow:function(){this.ifCreateOneNewRecordFlag=!0},cancelCreateRecordQuit:function(){}}},b={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"soil_list"}},[a("Breadcrumb",{staticStyle:{"text-align":"left","margin-left":"130px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_entrance"}},[e._v("土壤类记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_list/0"}},[e._v(e._s(e.latestBreadHere))])],1),e._v(" "),a("div",{attrs:{id:"zhuankong_title"}},[e._v("\n    "+e._s(e.latestBreadHere)+"\n  ")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&e.table_data_arr.length>0,expression:"!ifShowLoadingNowFlag && table_data_arr.length>0"}],attrs:{id:"soilList"}},[a("Table",{ref:"recordTable",style:"left:"+e.tableLeftEdge+"px;",attrs:{size:"large",border:"",width:e.tableRealWidth,columns:e.table_column_arr,data:e.table_data_arr}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&e.table_data_arr.length>0,expression:"!ifShowLoadingNowFlag && table_data_arr.length>0"}],style:"margin-left:"+e.tableLeftEdge+"px;",attrs:{id:"delBtn"}},[a("Button",{on:{click:e.readyForDelRecords}},[e._v("删除记录")]),e._v(" "),a("div",{style:"position:relative;display:inline-block;float:right;right:"+e.tableLeftEdge+"px;",attrs:{id:"createBtn"}},[a("Button",{on:{click:e.createOneNewRecord}},[e._v("创建新记录")])],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&0==e.table_data_arr.length,expression:"!ifShowLoadingNowFlag && table_data_arr.length==0"}],attrs:{id:"noRecordHint"}},[e._v("（暂无记录）")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowLoadingNowFlag&&0==e.table_data_arr.length,expression:"!ifShowLoadingNowFlag && table_data_arr.length==0"}],attrs:{id:"createBtnTwin"}},[a("Button",{on:{click:e.createOneNewRecord}},[e._v("创建新记录")])],1),e._v(" "),a("Modal",{attrs:{width:"400",title:"温馨提示"},on:{"on-ok":e.ok_del,"on-cancel":e.cancel_del},model:{value:e.showDelPopupBesureBoxFlag,callback:function(t){e.showDelPopupBesureBoxFlag=t},expression:"showDelPopupBesureBoxFlag"}},[a("p",{staticClass:"m-popup-modal"},[e._v(e._s(e.hintIFDelOneOrSomeRecordsWord))])]),e._v(" "),a("Modal",{staticClass:"vertical-center-modal",attrs:{title:"新建一个采样记录",width:"360"},on:{"on-ok":e.createRecord,"on-cancel":e.cancelCreateRecordQuit},model:{value:e.ifCreateOneNewRecordFlag,callback:function(t){e.ifCreateOneNewRecordFlag=t},expression:"ifCreateOneNewRecordFlag"}},[a("div",{staticClass:"m-input-record-name-box"},[a("div",[a("input",{staticClass:"input-newRecordNameTB",attrs:{type:"text",placeholder:"请输入记录名字...",id:"newRecordNameTB",onfocus:"this.placeholder='';",onblur:"this.value==''?this.placeholder='请输入记录名字...':this.placeholder='';"}})])])]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForSoilList"}})],1)},staticRenderFns:[]};var y=a("VU/8")(w,b,!1,function(e){a("RmeX")},"data-v-429506d8",null).exports,I=a("mvHQ"),N=a.n(I),S=a("bOdI"),x=a.n(S),z={name:"edit_soil_drill_record",data:function(){var e;return e={ifShowLoadingNowFlag:!0,ifRecordNameEditFlag:!1,ifShowImageFlag:!1,currentFillInStatusHint:"",openTheDatePickPanelFlag:!1,table_column_arr:[],table_data_arr:[],tableLeftEdge:0,tableRealWidth:743,record_date:"",dikuai_name:"",dikuai_code:"",budian_person:"",budian_date:"",caiyang_date:"",caiyang_person:"",weather_info:"",dianwei_number:"",jingdu:"",weidu:"",caiyang_site:"",drill_person_name:"",drill_person_contact:"",drill_depth:"",drill_method:"",drill_diameter:"",drill_machine_model:"",chujian_water_level:"",zhikong_depth:"",record_person_name:"",neishen_signature:"",arr_sample_number:[],arr_zuanjin_depth:[],arr_diceng_describe:[],arr_wuran_describe:[],arr_caiyang_depth:[],arr_photo_filepath:[],arr_photo_comment:[],arr_photo_datetime:[],alreadyUploadedImagesList:[]},x()(e,"ifShowImageFlag",!1),x()(e,"imgShowContainerEdgeW",""),x()(e,"imgShowContainerRealWidth",960),x()(e,"imageRealShowWidth",""),x()(e,"imageRealShowHeight",""),x()(e,"currentShowImageURL",""),x()(e,"currentShowImageFileName",""),x()(e,"currentShowImageDateTime","(照片拍摄时间：2018-07-15 09:26)"),x()(e,"currentShowImageComment",""),x()(e,"imgShowContainerRealHeight",750),x()(e,"imgSelfShowFlag",!1),x()(e,"ifDeleteOneImageHintFlag",!1),x()(e,"currentShowImageIndex",-1),x()(e,"record_table_name",""),x()(e,"addtionLeftEdge",""),x()(e,"addtionRightEdge",""),x()(e,"addtionRightEdge",""),x()(e,"currentRecordId",""),x()(e,"first_submit_time",""),x()(e,"latest_save_time",""),x()(e,"hintDelImgIFInEditAlreadyRecordStatus",""),e},mounted:function(){var e=this;document.body.scrollTop=0,window.scrollTo(0,0),this.currentRecordId=Number(this.$route.params.id),this.alreadyUploadedImagesList=[],this.table_column_arr=[],this.table_column_arr.push({title:"样品编号",key:"sample_number",width:100,align:"left",render:function(t,a){return t("div",[t("Input",{props:{value:e.arr_sample_number[a.row._index]},on:{"on-change":function(t){e.arr_sample_number[a.row._index]=t.target.value}}})])}}),this.table_column_arr.push({title:"钻进深度",key:"zuanjin_depth",width:100,align:"center",render:function(t,a){return t("div",[t("Input",{props:{value:e.arr_zuanjin_depth[a.row._index]},on:{"on-change":function(t){e.arr_zuanjin_depth[a.row._index]=t.target.value}}})])}}),this.table_column_arr.push({title:"地层描述",key:"diceng_describe",width:220,children:[{title:"土质分类、密度、颜色、湿度",key:"diceng_describe",align:"center",width:220,render:function(t,a){return t("div",[t("Input",{props:{autosize:!0,type:"textarea",value:e.arr_diceng_describe[a.row._index]},on:{"on-change":function(t){e.arr_diceng_describe[a.row._index]=t.target.value}}})])}}],align:"center"}),this.table_column_arr.push({title:"污染描述",key:"wuran_describe",width:220,children:[{title:"气味、污染痕迹、油状物等",key:"wuran_describe",align:"center",width:220,render:function(t,a){return t("div",[t("Input",{props:{autosize:!0,type:"textarea",value:e.arr_wuran_describe[a.row._index]},on:{"on-change":function(t){e.arr_wuran_describe[a.row._index]=t.target.value}}})])}}],align:"center"}),this.table_column_arr.push({title:"采样深度",key:"caiyang_depth",width:100,align:"center",render:function(t,a){return t("div",[t("Input",{props:{value:e.arr_caiyang_depth[a.row._index]},on:{"on-change":function(t){e.arr_caiyang_depth[a.row._index]=t.target.value}}})])}}),this.table_data_arr=[],this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""}),this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""}),this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""}),0==this.currentRecordId?(this.currentFillInStatusHint="新建记录",this.record_table_name=this.$store.state.recordName,this.initReadyOK()):(this.currentFillInStatusHint="编辑已有记录",this.getPointedSoilDrillRecord()),this.rearrangeUIAfterResizeShowArea()},methods:{echoParent:function(){this.rearrangeUIAfterResizeShowArea()},handleUploadFileSuccess:function(e,t){console.log("v="+N()(e)),console.log("file="+N()(t)),this.$refs.uploadEntity.clearFiles(),setTimeout(this.delayShowUploadOK,500,t)},delayShowUploadOK:function(e){alert("图片上传成功！"),this.alreadyUploadedImagesList.push({name:e.name,url:"http://datestpy.neuseer.cn/static/huanke/"+e.name,comment:"",dt:""})},initReadyOK:function(){this.ifShowLoadingNowFlag=!1},deleteOnePicHandler:function(e){this.currentShowImageFileName=this.alreadyUploadedImagesList[e].name,this.currentShowImageIndex=e,this.ifDeleteOneImageHintFlag=!0,0!=this.currentRecordId&&(this.hintDelImgIFInEditAlreadyRecordStatus="  （在保存内容后生效）")},getPointedSoilDrillRecord:function(){var e=this,t=new URLSearchParams;t.append("record_id",this.currentRecordId),this.axios({method:"post",url:"http://datestpy.neuseer.cn/select_pointed_soil_drill_record",data:t}).then(function(t){var a=["id","record_table_name","record_person_name","record_date","first_submit_time","latest_save_time","neishen_signature","dikuai_name","dikuai_code","budian_person","budian_date","caiyang_date","caiyang_person","weather_info","dianwei_number","jingdu","weidu","caiyang_site","drill_person_name","drill_person_contact","drill_depth","drill_diameter","drill_method","drill_machine_model","chujian_water_level","zhikong_depth","arr_sample_number","arr_zuanjin_depth","arr_diceng_describe","arr_wuran_describe","arr_caiyang_depth","arr_photo_filepath","arr_photo_comment","arr_photo_datetime"],i=JSON.parse(t.data.result);e.record_table_name=i[0][a.indexOf("record_table_name")],e.record_person_name=i[0][a.indexOf("record_person_name")],e.record_date=i[0][a.indexOf("record_date")],e.first_submit_time=i[0][a.indexOf("first_submit_time")],e.latest_save_time=i[0][a.indexOf("latest_save_time")],e.neishen_signature=i[0][a.indexOf("neishen_signature")],e.dikuai_name=i[0][a.indexOf("dikuai_name")],e.dikuai_code=i[0][a.indexOf("dikuai_code")],e.budian_person=i[0][a.indexOf("budian_person")],e.budian_date=i[0][a.indexOf("budian_date")],e.caiyang_date=i[0][a.indexOf("caiyang_date")],e.caiyang_person=i[0][a.indexOf("caiyang_person")],e.weather_info=i[0][a.indexOf("weather_info")],e.dianwei_number=i[0][a.indexOf("dianwei_number")],e.jingdu=i[0][a.indexOf("jingdu")],e.weidu=i[0][a.indexOf("weidu")],e.caiyang_site=i[0][a.indexOf("caiyang_site")],e.drill_person_name=i[0][a.indexOf("drill_person_name")],e.drill_person_contact=i[0][a.indexOf("drill_person_contact")],e.drill_depth=i[0][a.indexOf("drill_depth")],e.drill_diameter=i[0][a.indexOf("drill_diameter")],e.drill_method=i[0][a.indexOf("drill_method")],e.drill_machine_model=i[0][a.indexOf("drill_machine_model")],e.chujian_water_level=i[0][a.indexOf("chujian_water_level")],e.zhikong_depth=i[0][a.indexOf("zhikong_depth")],e.arr_sample_number=i[0][a.indexOf("arr_sample_number")].split("**"),e.arr_zuanjin_depth=i[0][a.indexOf("arr_zuanjin_depth")].split("**"),e.arr_diceng_describe=i[0][a.indexOf("arr_diceng_describe")].split("**"),e.arr_wuran_describe=i[0][a.indexOf("arr_wuran_describe")].split("**"),e.arr_caiyang_depth=i[0][a.indexOf("arr_caiyang_depth")].split("**"),""!==i[0][a.indexOf("arr_photo_filepath")]&&(e.arr_photo_filepath=i[0][a.indexOf("arr_photo_filepath")].split("**")),""!==i[0][a.indexOf("arr_photo_comment")]&&(e.arr_photo_comment=i[0][a.indexOf("arr_photo_comment")].split("**")),""!==i[0][a.indexOf("arr_photo_datetime")]&&(e.arr_photo_datetime=i[0][a.indexOf("arr_photo_datetime")].split("**")),e.table_data_arr=[];for(var n=0;n<e.arr_sample_number.length;n++)e.table_data_arr.push({sample_number:e.arr_sample_number[n],zuanjin_depth:e.arr_zuanjin_depth[n],diceng_describe:e.arr_diceng_describe[n],wuran_describe:e.arr_wuran_describe[n],caiyang_depth:e.arr_caiyang_depth[n]});for(var r=0;r<3-e.arr_sample_number.length;r++)e.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""});for(e.alreadyUploadedImagesList=[],n=0;n<e.arr_photo_filepath.length;n++){var s=e.arr_photo_filepath[n].split("/"),l=s[s.length-1];e.alreadyUploadedImagesList.push({name:l,url:e.arr_photo_filepath[n],comment:e.arr_photo_comment[n],dt:e.arr_photo_datetime[n]})}e.initReadyOK()}).catch(function(t){console.log("encounter db access error"),e.initStaticDataDemo(),e.initReadyOK()})},openViewOneImage:function(e){this.imgSelfShowFlag=!1;var t=this.alreadyUploadedImagesList[e];this.currentShowImageIndex=e,this.ifShowImageFlag=!0,this.currentShowImageFileName=t.name,""!=t.dt&&null!=t.dt?this.currentShowImageDateTime="（照片拍摄时间："+t.dt+"）":this.currentShowImageDateTime="",this.currentShowImageURL=t.url,this.currentShowImageComment=t.comment,this.imgObj=new Image,this.imgObj.src=this.currentShowImageURL,this.imgObj.onload=this.getImageLoadedHandler},del_one_image:function(){this.alreadyUploadedImagesList.splice(this.currentShowImageIndex,1),console.log("this.alreadyUploadedImagesList.length=="+this.alreadyUploadedImagesList.length),this.ifShowImageFlag=!1},not_del_one_image:function(){},getImageLoadedHandler:function(){var e=this.imgObj.width,t=this.imgObj.height,a=void 0,i=void 0;if(e>t)for(i=this.imgShowContainerRealWidth-100,a=Math.floor(t*i/e);a>this.imgShowContainerRealHeight-90;)a*=.9,i*=.9;else a=this.imgShowContainerRealHeight-90,i=Math.floor(e*a/t);this.imgObj.width=i,this.imgObj.height=a,this.imageRealShowWidth=i,this.imageRealShowHeight=a,this.imgSelfShowFlag=!0},saveFillInHandler:function(){this.insertOrUpdateSoilDrillTable()},handleChange:function(e){this.record_date=e},handleClear:function(){this.openTheDatePickPanelFlag=!1},handleOk:function(){this.openTheDatePickPanelFlag=!1},handleClick:function(){this.openTheDatePickPanelFlag=!this.openTheDatePickPanelFlag},closeImageShow:function(){this.ifShowImageFlag=!1,setTimeout(this.setScrollToBottom,10)},setScrollToBottom:function(){document.body.scrollTop=document.body.scrollHeight,window.scrollTo(0,document.body.scrollHeight)},rearrangeUIAfterResizeShowArea:function(){this.tableLeftEdge=(760-this.tableRealWidth)/2,this.imgShowContainerEdgeW=(document.body.offsetWidth-this.imgShowContainerRealWidth)/2,this.addtionLeftEdge=(document.body.offsetWidth-760)/2,this.addtionRightEdge=(document.body.offsetWidth-760)/2,this.imgShowContainerRealHeight=document.documentElement.clientHeight-70,this.d("loadingEntityForEditSoilDrillRecord").style.left=(document.body.offsetWidth-this.d("loadingEntityForEditSoilDrillRecord").offsetWidth)/2+"px"},initStaticDataDemo:function(){this.record_table_name="红桥区二号院实地勘测记录",this.dikuai_name="世界之窗地块A",this.dikuai_code="SZ0001",this.budian_person="朱小雨",this.budian_date="2018年7月1日",this.caiyang_date="2018年7月5日",this.caiyang_person="刘明凯",this.weather_info="多云转雷阵雨",this.dianwei_number="78613",this.jingdu="东经35度",this.weidu="北纬29度",this.caiyang_site="红桥区地质家属楼二号院内",this.drill_person_name="朱小雨",this.drill_person_contact="13526597896",this.drill_depth="10",this.drill_method="机械式钻井法",this.drill_diameter="150",this.drill_machine_model="一级钻机A08",this.chujian_water_level="36",this.zhikong_depth="19",this.record_person_name="朱小雨",this.neishen_signature="陈总办公室",this.neishen_signature222="陈总办公室222",this.record_date="2018年7月16日",this.alreadyUploadedImagesList=[],this.alreadyUploadedImagesList.push({name:"abcdefg.jpg",url:"/static/0.jpg",comment:"土层表面纹理",dt:"2018-07-13 11:10"}),this.alreadyUploadedImagesList.push({name:"uuuu1.jpg",url:"/static/1.jpg",comment:"13日白天阳光照射下的土",dt:"2018-07-15 15:27"}),this.alreadyUploadedImagesList.push({name:"uuuu2.jpg",url:"/static/2.jpg",comment:"红桥区二号院土地",dt:"2018-07-14 18:11"}),this.alreadyUploadedImagesList.push({name:"uuuu3.jpg",url:"/static/3.jpg",comment:"下雨过后的土壤",dt:"2018-07-09 20:10"}),this.alreadyUploadedImagesList.push({name:"uuuu4.jpg",url:"/static/4.jpg",comment:"团队合作",dt:"2018-07-08 09:10"}),this.alreadyUploadedImagesList.push({name:"uuuu5.jpg",url:"/static/5.jpg",comment:"砖红色的土层",dt:"2018-07-13 10:10"}),this.table_data_arr=[],this.table_data_arr.push({sample_number:"Y0021",zuanjin_depth:"21m",diceng_describe:"土质疏松，发黑，颗粒密度小",wuran_describe:"有不好的味道，黏糊糊的，估计已经变质一段时间",caiyang_depth:"37m"}),this.table_data_arr.push({sample_number:"Y0049",zuanjin_depth:"16m",diceng_describe:"土块很潮湿，浅黄色，长期被水浸泡，很软",wuran_describe:"未见污染，未见异样气味",caiyang_depth:"11m"}),this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""});for(var e=0;e<this.table_data_arr.length;e++)this.arr_sample_number.push(this.table_data_arr[e].sample_number),this.arr_zuanjin_depth.push(this.table_data_arr[e].zuanjin_depth),this.arr_diceng_describe.push(this.table_data_arr[e].diceng_describe),this.arr_wuran_describe.push(this.table_data_arr[e].wuran_describe),this.arr_caiyang_depth.push(this.table_data_arr[e].caiyang_depth);this.record_person_name="朱小雨",this.neishen_signature="陈总办公室",this.neishen_signature222="陈总办公室222"},insertOrUpdateSoilDrillTable:function(){var e=this,t=new URLSearchParams,a=void 0;0!=this.currentRecordId?(t.append("record_id",this.currentRecordId),a="/update_soil_drill_table"):(a="/insert_soil_drill_table",this.first_submit_time=(new Date).Format("yyyy-MM-dd hh:mm")),this.arr_photo_filepath=[],this.arr_photo_comment=[],this.arr_photo_datetime=[];for(var i=0;i<this.alreadyUploadedImagesList.length;i++)this.arr_photo_filepath.push(this.alreadyUploadedImagesList[i].url),this.arr_photo_comment.push(this.alreadyUploadedImagesList[i].comment),this.arr_photo_datetime.push(this.alreadyUploadedImagesList[i].dt);t.append("record_table_name",this.record_table_name),t.append("record_person_name",this.record_person_name),t.append("record_date",this.record_date),t.append("first_submit_time",this.first_submit_time),t.append("latest_save_time",this.latest_save_time),t.append("neishen_signature",this.neishen_signature),t.append("dikuai_name",this.dikuai_name),t.append("dikuai_code",this.dikuai_code),t.append("budian_person",this.budian_person),t.append("budian_date",new Date(this.budian_date).Format("yyyy-MM-dd")),t.append("caiyang_date",new Date(this.caiyang_date).Format("yyyy-MM-dd")),t.append("caiyang_person",this.caiyang_person),t.append("weather_info",this.weather_info),t.append("dianwei_number",this.dianwei_number),t.append("jingdu",this.jingdu),t.append("weidu",this.weidu),t.append("caiyang_site",this.caiyang_site),t.append("drill_person_name",this.drill_person_name),t.append("drill_person_contact",this.drill_person_contact),t.append("drill_depth",this.drill_depth),t.append("drill_diameter",this.drill_diameter),t.append("drill_method",this.drill_method),t.append("drill_machine_model",this.drill_machine_model),t.append("chujian_water_level",this.chujian_water_level),t.append("zhikong_depth",this.zhikong_depth),t.append("arr_sample_number",this.arr_sample_number.join("**")),t.append("arr_zuanjin_depth",this.arr_zuanjin_depth.join("**")),t.append("arr_diceng_describe",this.arr_diceng_describe.join("**")),t.append("arr_wuran_describe",this.arr_wuran_describe.join("**")),t.append("arr_caiyang_depth",this.arr_caiyang_depth.join("**")),t.append("arr_diceng_describe",this.arr_diceng_describe.join("**")),t.append("arr_wuran_describe",this.arr_wuran_describe.join("**")),t.append("arr_caiyang_depth",this.arr_caiyang_depth.join("**")),t.append("arr_photo_filepath",this.arr_photo_filepath.join("**")),t.append("arr_photo_comment",this.arr_photo_comment.join("**")),t.append("arr_photo_datetime",this.arr_photo_datetime.join("**")),this.axios({method:"post",url:"http://datestpy.neuseer.cn"+a,data:t}).then(function(t){0!=e.$store.state.currentSelectedRecordID||t.data.result>0&&(e.$store.state.currentSelectedRecordID=t.data.result),alert("保存成功，点击确定查看"),e.$router.push("/view_soil_drill_record/"+e.currentRecordId)}).catch(function(e){alert("写入数据表失败"),console.log("insert data to mysql error: "+e)})}}},C={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"edit_soil_drill_record"}},[a("Breadcrumb",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],staticStyle:{"text-align":"left","margin-left":"130px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_entrance"}},[e._v("土壤类记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_list/0"}},[e._v("电子土壤钻孔记录表")]),e._v(" "),a("BreadcrumbItem",[e._v("填写记录")])],1),e._v(" "),a("div",{attrs:{id:"newTableTitleHint"}},[e._v("\n    填写电子土壤钻孔记录表\n  ")]),e._v(" "),a("div",{style:"left:"+e.addtionLeftEdge+"px",attrs:{id:"record_table_nameContainer"}},[e._v("\n    ◆ 记录名称：\n    "),e.ifRecordNameEditFlag?a("span",{staticStyle:{color:"#b00a1a",display:"inline-block"}},[a("Input",{staticStyle:{width:"250px"},attrs:{size:"small"},model:{value:e.record_table_name,callback:function(t){e.record_table_name=t},expression:"record_table_name"}})],1):a("span",{staticStyle:{color:"#b00a1a"}},[e._v(e._s(e.record_table_name))]),e._v(" "),a("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){e.ifRecordNameEditFlag=!e.ifRecordNameEditFlag}}},[e._v("  "),a("Icon",{attrs:{title:e.ifRecordNameEditFlag?"点击锁定确认更改":"点击更名",type:e.ifRecordNameEditFlag?"locked":"edit"}})],1)]),e._v(" "),a("div",{style:"right:"+e.addtionRightEdge+"px",attrs:{id:"currentFillInStatusHintContainer"}},[e._v("\n    ◆ 当前状态："),a("span",{staticStyle:{color:"#b00a1a"}},[e._v(e._s(e.currentFillInStatusHint))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],attrs:{id:"fillInContent"}},[a("hr",{staticStyle:{"margin-top":"30px",height:"1px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("1、基本信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("地块名称：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.dikuai_name,callback:function(t){e.dikuai_name=t},expression:"dikuai_name"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("地块编码：")]),e._v(" "),a("span",[a("Input",{staticStyle:{"font-size":"16px",width:"200px"},attrs:{size:"default"},model:{value:e.dikuai_code,callback:function(t){e.dikuai_code=t},expression:"dikuai_code"}})],1)]),e._v(" "),a("div",[a("span",{staticClass:"m-span-label"},[e._v("布点人员：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.budian_person,callback:function(t){e.budian_person=t},expression:"budian_person"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("布点日期：")]),e._v(" "),a("span",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:e.budian_date,format:"yyyy年M月d日",type:"date",placeholder:"（请点击选择）"},model:{value:e.budian_date,callback:function(t){e.budian_date=t},expression:"budian_date"}})],1)]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("2、点位信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("采样日期：")]),e._v(" "),a("span",[a("DatePicker",{staticStyle:{width:"200px"},attrs:{value:e.caiyang_date,format:"yyyy年M月d日",type:"date",placeholder:"（请点击选择）"},model:{value:e.caiyang_date,callback:function(t){e.caiyang_date=t},expression:"caiyang_date"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("采样人员：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.caiyang_person,callback:function(t){e.caiyang_person=t},expression:"caiyang_person"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("天气：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.weather_info,callback:function(t){e.weather_info=t},expression:"weather_info"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("点位编号：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.dianwei_number,callback:function(t){e.dianwei_number=t},expression:"dianwei_number"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("经度：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.jingdu,callback:function(t){e.jingdu=t},expression:"jingdu"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("纬度：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.weidu,callback:function(t){e.weidu=t},expression:"weidu"}})],1)]),e._v(" "),a("div",{staticClass:"m-single"},[a("span",{staticClass:"m-span-label"},[e._v("采样地点：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"400px"},attrs:{size:"default"},model:{value:e.caiyang_site,callback:function(t){e.caiyang_site=t},expression:"caiyang_site"}})],1)]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("3、钻孔信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔负责人：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_person_name,callback:function(t){e.drill_person_name=t},expression:"drill_person_name"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("联系方式：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_person_contact,callback:function(t){e.drill_person_contact=t},expression:"drill_person_contact"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔深度(m)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_depth,callback:function(t){e.drill_depth=t},expression:"drill_depth"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻孔直径(mm)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_diameter,callback:function(t){e.drill_diameter=t},expression:"drill_diameter"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔方法：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_method,callback:function(t){e.drill_method=t},expression:"drill_method"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻机型号：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.drill_machine_model,callback:function(t){e.drill_machine_model=t},expression:"drill_machine_model"}})],1)]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("初见水位(m)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.chujian_water_level,callback:function(t){e.chujian_water_level=t},expression:"chujian_water_level"}})],1),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("止孔深度(m)：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px"},attrs:{size:"default"},model:{value:e.zhikong_depth,callback:function(t){e.zhikong_depth=t},expression:"zhikong_depth"}})],1)]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("4、钻进操作记录")]),e._v(" "),a("div",{attrs:{id:"drillOperateRecordList"}},[a("Table",{ref:"operateRecordTable",style:"left:"+e.tableLeftEdge+"px;",attrs:{size:"large",border:"",width:e.tableRealWidth,columns:e.table_column_arr,data:e.table_data_arr}})],1),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("【附件】：拍摄照片列表")]),e._v(" "),a("div",{staticClass:"m-uploadfiles-btn"},[a("Upload",{ref:"uploadEntity",staticStyle:{"font-size":"14px"},attrs:{size:"large","on-success":e.handleUploadFileSuccess,action:"http://datestpy.neuseer.cn/upload"}},[a("Button",{attrs:{type:"ghost",size:"large",icon:"ios-cloud-upload-outline"}},[e._v("点击上传图片")]),e._v("   （注意：每次选择一张图片，可多次点击上传）")],1)],1),e._v(" "),a("div",{staticClass:"m-picList"},e._l(e.alreadyUploadedImagesList,function(t,i){return a("div",{staticClass:"m-picSingleInfoLine",attrs:{id:"pic_"+(i+1)}},[a("span",{staticClass:"m-picfilename"},[a("Icon",{staticStyle:{cursor:"pointer","vertical-align":"middle"},attrs:{type:"ios-close-outline",size:"24",color:"#0000ff",title:"点击删除图片"},on:{click:function(t){e.deleteOnePicHandler(i)}}}),e._v("  "+e._s(i+1)+"、添加图片说明："),a("Input",{staticStyle:{width:"250px",display:"inline-block"},attrs:{size:"small"},model:{value:t.comment,callback:function(a){e.$set(t,"comment",a)},expression:"item.comment"}})],1),e._v(" "),a("span",{staticClass:"m-viewpic"},[a("Button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.openViewOneImage(i)}}},[e._v("点击预览图片")])],1)])})),e._v(" "),a("div",{staticClass:"m-placeholder"},[e._v("  ")]),e._v(" "),a("hr",{staticStyle:{position:"relative","margin-top":"20px","margin-bottom":"20px",height:"2px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("钻孔负责人：")]),e._v(" "),a("span",[a("Input",{ref:"drill_twin_input",staticStyle:{width:"100px",display:"inline-block"},attrs:{size:"default"},model:{value:e.drill_person_name,callback:function(t){e.drill_person_name=t},expression:"drill_person_name"}})],1)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("记录人：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"100px",display:"inline-block"},attrs:{size:"default"},model:{value:e.record_person_name,callback:function(t){e.record_person_name=t},expression:"record_person_name"}})],1)]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("采样单位的内审签名：")]),e._v(" "),a("span",[a("Input",{staticStyle:{width:"200px",display:"inline-block"},attrs:{size:"default"},model:{value:e.neishen_signature,callback:function(t){e.neishen_signature=t},expression:"neishen_signature"}})],1)]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-inscribe-date"},[e._v("填表日期：\n      "),a("span",[a("DatePicker",{attrs:{open:e.openTheDatePickPanelFlag,value:e.record_date,confirm:"",type:"date"},on:{"on-change":e.handleChange,"on-clear":e.handleClear,"on-ok":e.handleOk}},[a("a",{attrs:{href:"javascript:void(0)"},on:{click:e.handleClick}},[a("Icon",{directives:[{name:"show",rawName:"v-show",value:""===e.record_date,expression:"record_date === ''"}],attrs:{type:"calendar"}}),e._v(" "),""===e.record_date?[e._v("点击选择")]:[e._v(e._s(e.record_date))]],2)])],1)]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",[a("Button",{attrs:{type:"primary",size:"large"},on:{click:e.saveFillInHandler}},[e._v("保存填写内容")])],1),e._v(" "),a("br"),e._v(" "),a("br")]),e._v(" "),a("Card",{directives:[{name:"show",rawName:"v-show",value:e.ifShowImageFlag,expression:"ifShowImageFlag"}],style:"background-color:#eeeeee;z-index:100;width:"+e.imgShowContainerRealWidth+"px;height:"+e.imgShowContainerRealHeight+"px;position:fixed;top:50px;left:"+e.imgShowContainerEdgeW+"px;",attrs:{shadow:""}},[a("div",{staticStyle:{position:"relative"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticClass:"u-imgBasicInfo"},[e._v("图片文件名："+e._s(e.currentShowImageFileName)+"      "+e._s(e.currentShowImageDateTime)+"    "),a("Icon",{staticStyle:{cursor:"pointer","vertical-align":"middle"},attrs:{type:"ios-close-outline",size:"24",color:"#0000ff",title:"点击删除图片"},on:{click:function(t){e.deleteOnePicHandler(e.currentShowImageIndex)}}})],1),e._v(" "),a("span",{staticClass:"u-imgCloseBtn"},[a("Button",{attrs:{type:"primary"},on:{click:e.closeImageShow}},[e._v("关闭图片")])],1)]),e._v(" "),a("hr"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticStyle:{position:"relative",clear:"both","text-align":"center",width:"auto"}},[a("img",{attrs:{id:"imgEntity",src:e.currentShowImageURL,width:e.imageRealShowWidth,height:e.imageRealShowHeight}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticStyle:{"margin-top":"10px","font-size":"16px","font-weight":"bold"}},[a("span",[e._v(e._s(e.currentShowImageComment))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.imgSelfShowFlag,expression:"!imgSelfShowFlag"}],staticStyle:{"margin-top":"20px","font-size":"16px"}},[a("span",[e._v("图片正在加载中，请稍候......")])])]),e._v(" "),a("Modal",{attrs:{title:"温馨提示",width:"400"},on:{"on-ok":e.del_one_image,"on-cancel":e.not_del_one_image},model:{value:e.ifDeleteOneImageHintFlag,callback:function(t){e.ifDeleteOneImageHintFlag=t},expression:"ifDeleteOneImageHintFlag"}},[a("p",{staticStyle:{"font-size":"16px"}},[e._v("确定要删除图片文件 "+e._s(e.currentShowImageFileName)+" 吗？"+e._s(e.hintDelImgIFInEditAlreadyRecordStatus))])]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForEditSoilDrillRecord"}})],1)},staticRenderFns:[]};var M=a("VU/8")(z,C,!1,function(e){a("g9nC"),a("vSPT")},"data-v-39c65763",null).exports,j={name:"view_soil_drill_record",data:function(){var e;return e={ifShowLoadingNowFlag:!0,currentRecordId:"",ifShowImageFlag:!1,openTheDatePickPanelFlag:!1,table_column_arr:[],table_data_arr:[],tableLeftEdge:0,tableRealWidth:743,selectedDateForFillTable:"",dikuai_name:"",dikuai_code:"",budian_person:"",budian_date:"",caiyang_date:"",caiyang_person:"",weather_info:"",dianwei_number:"",jingdu:"",weidu:"",caiyang_site:"",drill_person_name:"",drill_person_contact:"",drill_depth:"",drill_method:"",drill_diameter:"",drill_machine_model:"",chujian_water_level:"",zhikong_depth:"",record_person_name:"",neishen_signature:"",arr_sample_number:[],arr_zuanjin_depth:[],arr_diceng_describe:[],arr_wuran_describe:[],arr_caiyang_depth:[],arr_photo_filepath:[],arr_photo_comment:[],arr_photo_datetime:[],alreadyUploadedImagesList:[]},x()(e,"ifShowImageFlag",!1),x()(e,"imgShowContainerEdgeW",""),x()(e,"imgShowContainerRealWidth",960),x()(e,"imageRealShowWidth",""),x()(e,"imageRealShowHeight",""),x()(e,"currentShowImageURL",""),x()(e,"currentShowImageFileName",""),x()(e,"currentShowImageDateTime","(照片拍摄时间：2018-07-15 09:26)"),x()(e,"currentShowImageComment",""),x()(e,"imgShowContainerRealHeight",750),x()(e,"imgSelfShowFlag",!1),x()(e,"ifDeleteOneImageHintFlag",!1),x()(e,"currentShowImageIndex",-1),x()(e,"record_table_name",""),x()(e,"record_date",""),e},mounted:function(){document.body.scrollTop=0,window.scrollTo(0,0),this.currentRecordId=Number(this.$route.params.id),this.table_column_arr=[],this.table_column_arr.push({title:"样品编号",key:"sample_number",width:100,align:"center"}),this.table_column_arr.push({title:"钻进深度",key:"zuanjin_depth",width:100,align:"center"}),this.table_column_arr.push({title:"地层描述",key:"diceng_describe",width:220,children:[{title:"土质分类、密度、颜色、湿度",key:"diceng_describe",align:"center",width:220}],align:"center"}),this.table_column_arr.push({title:"污染描述",key:"wuran_describe",width:220,children:[{title:"气味、污染痕迹、油状物等",key:"wuran_describe",align:"center",width:220}],align:"center"}),this.table_column_arr.push({title:"采样深度",key:"caiyang_depth",width:100,align:"center"}),this.getPointedSoilDrillRecord(),this.rearrangeUIAfterResizeShowArea()},methods:{echoParent:function(){this.rearrangeUIAfterResizeShowArea()},initReadyOK:function(){this.ifShowLoadingNowFlag=!1},getPointedSoilDrillRecord:function(){var e=this,t=new URLSearchParams;t.append("record_id",this.currentRecordId),this.axios({method:"post",url:"http://datestpy.neuseer.cn/select_pointed_soil_drill_record",data:t}).then(function(t){var a=["id","record_table_name","record_person_name","record_date","first_submit_time","latest_save_time","neishen_signature","dikuai_name","dikuai_code","budian_person","budian_date","caiyang_date","caiyang_person","weather_info","dianwei_number","jingdu","weidu","caiyang_site","drill_person_name","drill_person_contact","drill_depth","drill_diameter","drill_method","drill_machine_model","chujian_water_level","zhikong_depth","arr_sample_number","arr_zuanjin_depth","arr_diceng_describe","arr_wuran_describe","arr_caiyang_depth","arr_photo_filepath","arr_photo_comment","arr_photo_datetime"],i=JSON.parse(t.data.result);e.record_table_name=i[0][a.indexOf("record_table_name")],e.record_person_name=i[0][a.indexOf("record_person_name")],e.record_date=i[0][a.indexOf("record_date")],e.neishen_signature=i[0][a.indexOf("neishen_signature")],e.dikuai_name=i[0][a.indexOf("dikuai_name")],e.dikuai_code=i[0][a.indexOf("dikuai_code")],e.budian_person=i[0][a.indexOf("budian_person")],e.budian_date=i[0][a.indexOf("budian_date")],e.caiyang_date=i[0][a.indexOf("caiyang_date")],e.caiyang_person=i[0][a.indexOf("caiyang_person")],e.weather_info=i[0][a.indexOf("weather_info")],e.dianwei_number=i[0][a.indexOf("dianwei_number")],e.jingdu=i[0][a.indexOf("jingdu")],e.weidu=i[0][a.indexOf("weidu")],e.caiyang_site=i[0][a.indexOf("caiyang_site")],e.drill_person_name=i[0][a.indexOf("drill_person_name")],e.drill_person_contact=i[0][a.indexOf("drill_person_contact")],e.drill_depth=i[0][a.indexOf("drill_depth")],e.drill_diameter=i[0][a.indexOf("drill_diameter")],e.drill_method=i[0][a.indexOf("drill_method")],e.drill_machine_model=i[0][a.indexOf("drill_machine_model")],e.chujian_water_level=i[0][a.indexOf("chujian_water_level")],e.zhikong_depth=i[0][a.indexOf("zhikong_depth")],e.arr_sample_number=i[0][a.indexOf("arr_sample_number")].split("**"),e.arr_zuanjin_depth=i[0][a.indexOf("arr_zuanjin_depth")].split("**"),e.arr_diceng_describe=i[0][a.indexOf("arr_diceng_describe")].split("**"),e.arr_wuran_describe=i[0][a.indexOf("arr_wuran_describe")].split("**"),e.arr_caiyang_depth=i[0][a.indexOf("arr_caiyang_depth")].split("**"),""!==i[0][a.indexOf("arr_photo_filepath")]&&(e.arr_photo_filepath=i[0][a.indexOf("arr_photo_filepath")].split("**")),""!==i[0][a.indexOf("arr_photo_comment")]&&(e.arr_photo_comment=i[0][a.indexOf("arr_photo_comment")].split("**")),""!==i[0][a.indexOf("arr_photo_datetime")]&&(e.arr_photo_datetime=i[0][a.indexOf("arr_photo_datetime")].split("**")),e.table_data_arr=[];for(var n=0;n<e.arr_sample_number.length;n++)e.table_data_arr.push({sample_number:e.arr_sample_number[n],zuanjin_depth:e.arr_zuanjin_depth[n],diceng_describe:e.arr_diceng_describe[n],wuran_describe:e.arr_wuran_describe[n],caiyang_depth:e.arr_caiyang_depth[n]});for(e.alreadyUploadedImagesList=[],n=0;n<e.arr_photo_filepath.length;n++){var r=e.arr_photo_filepath[n].split("/"),s=r[r.length-1];e.alreadyUploadedImagesList.push({name:s,url:e.arr_photo_filepath[n],comment:e.arr_photo_comment[n],dt:e.arr_photo_datetime[n]})}e.initReadyOK()}).catch(function(t){console.log("encounter db access error"),e.initStaticDataDemo(),e.initReadyOK(),setTimeout(e.initReadyOK,1e3)})},initStaticDataDemo:function(){this.record_table_name="红桥区二号院实地勘测记录",this.dikuai_name="世界之窗地块A",this.dikuai_code="SZ0001",this.budian_person="朱小雨",this.budian_date="2018年7月1日",this.caiyang_date="2018年7月5日",this.caiyang_person="刘明凯",this.weather_info="多云转雷阵雨",this.dianwei_number="78613",this.jingdu="东经35度",this.weidu="北纬29度",this.caiyang_site="红桥区地质家属楼二号院内",this.drill_person_name="朱小雨",this.drill_person_contact="13526597896",this.drill_depth="10",this.drill_method="机械式钻井法",this.drill_diameter="150",this.drill_machine_model="一级钻机A08",this.chujian_water_level="36",this.zhikong_depth="19",this.record_person_name="朱小雨",this.neishen_signature="陈总办公室",this.record_date="2018年7月15日",this.alreadyUploadedImagesList=[],this.alreadyUploadedImagesList.push({name:"abcdefg.jpg",url:"/static/0.jpg",comment:"土层表面纹理",dt:"2018-07-13 11:10"}),this.alreadyUploadedImagesList.push({name:"uuuu1.jpg",url:"/static/1.jpg",comment:"13日白天阳光照射下的土",dt:"2018-07-15 15:27"}),this.alreadyUploadedImagesList.push({name:"uuuu2.jpg",url:"/static/2.jpg",comment:"红桥区二号院土地",dt:"2018-07-14 18:11"}),this.alreadyUploadedImagesList.push({name:"uuuu3.jpg",url:"/static/3.jpg",comment:"下雨过后的土壤",dt:"2018-07-09 20:10"}),this.alreadyUploadedImagesList.push({name:"uuuu4.jpg",url:"/static/4.jpg",comment:"团队合作",dt:"2018-07-08 09:10"}),this.alreadyUploadedImagesList.push({name:"uuuu5.jpg",url:"/static/5.jpg",comment:"砖红色的土层",dt:"2018-07-13 10:10"}),this.table_data_arr=[],this.table_data_arr.push({sample_number:"Y0021",zuanjin_depth:"21m",diceng_describe:"土质疏松，发黑，颗粒密度小",wuran_describe:"有不好的味道，黏糊糊的，估计已经变质一段时间",caiyang_depth:"37"}),this.table_data_arr.push({sample_number:"Y0049",zuanjin_depth:"16m",diceng_describe:"土块很潮湿，浅黄色，长期被水浸泡，很软",wuran_describe:"未见污染，未见异样气味",caiyang_depth:"11"}),this.table_data_arr.push({sample_number:"",zuanjin_depth:"",diceng_describe:"",wuran_describe:"",caiyang_depth:""})},openViewOneImage:function(e){this.imgSelfShowFlag=!1;var t=this.alreadyUploadedImagesList[e];this.currentShowImageIndex=e,this.ifShowImageFlag=!0,this.currentShowImageFileName=t.name,""!=t.dt&&null!=t.dt?this.currentShowImageDateTime="（照片拍摄时间："+t.dt+"）":this.currentShowImageDateTime="",this.currentShowImageURL=t.url,this.currentShowImageComment=t.comment,this.imgObj=new Image,this.imgObj.src=this.currentShowImageURL,this.imgObj.onload=this.getImageLoadedHandler},getImageLoadedHandler:function(){var e=this.imgObj.width,t=this.imgObj.height,a=void 0,i=void 0;if(e>t)for(i=this.imgShowContainerRealWidth-100,a=Math.floor(t*i/e);a>this.imgShowContainerRealHeight-90;)a*=.9,i*=.9;else a=this.imgShowContainerRealHeight-90,i=Math.floor(e*a/t);this.imgObj.width=i,this.imgObj.height=a,this.imageRealShowWidth=i,this.imageRealShowHeight=a,this.imgSelfShowFlag=!0},closeImageShow:function(){this.ifShowImageFlag=!1,setTimeout(this.setScrollToBottom,10)},setScrollToBottom:function(){document.body.scrollTop=document.body.scrollHeight,window.scrollTo(0,document.body.scrollHeight)},rearrangeUIAfterResizeShowArea:function(){this.tableLeftEdge=(760-this.tableRealWidth)/2,this.imgShowContainerEdgeW=(document.body.offsetWidth-this.imgShowContainerRealWidth)/2,this.imgShowContainerRealHeight=document.documentElement.clientHeight-70,this.d("loadingEntityForViewSoilDrillRecord").style.left=(document.body.offsetWidth-this.d("loadingEntityForViewSoilDrillRecord").offsetWidth)/2+"px"},readyForEditAgain:function(){this.$router.push("/edit_soil_drill_record/"+this.currentRecordId)}}},T={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"view_soil_drill_record"}},[a("Breadcrumb",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],staticStyle:{"text-align":"left","margin-left":"130px","margin-bottom":"-40px"},attrs:{separator:">"}},[a("BreadcrumbItem",{attrs:{to:"/"}},[e._v("首页")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_entrance"}},[e._v("土壤类记录表")]),e._v(" "),a("BreadcrumbItem",{attrs:{to:"/soil_list/0"}},[e._v("电子土壤钻孔记录表")]),e._v(" "),a("BreadcrumbItem",[e._v("查看过往记录")])],1),e._v(" "),a("div",{attrs:{id:"newTableTitleHint"}},[e._v("\n    "+e._s(e.record_table_name)+"\n  ")]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.ifShowImageFlag,expression:"!ifShowImageFlag"}],attrs:{id:"fillInContent"}},[a("hr",{staticStyle:{"margin-top":"30px",height:"1px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("1、基本信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("地块名称：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.dikuai_name)+"\n        ")]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("地块编码：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.dikuai_code)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("布点人员：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.budian_person)+"\n        ")]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("布点日期：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.budian_date)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("2、点位信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("采样日期：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.caiyang_date))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("采样人员：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.caiyang_person))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("天气：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.weather_info))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("点位编号：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.dianwei_number))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("经度：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.jingdu))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("纬度：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.weidu))])]),e._v(" "),a("div",{staticClass:"m-single"},[a("span",{staticClass:"m-span-label"},[e._v("采样地点：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.caiyang_site))])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("3、钻孔信息")]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔负责人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_person_name))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("联系方式：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_person_contact)+"\n        ")])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔深度(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_depth))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻孔直径(mm)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_diameter))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("钻孔方法：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_method))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("钻机型号：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_machine_model))])]),e._v(" "),a("div",{staticClass:"m-sonItem"},[a("span",{staticClass:"m-span-label"},[e._v("初见水位(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.chujian_water_level))]),e._v(" "),a("span",{staticClass:"m-hp-center"},[e._v(" ")]),e._v(" "),a("span",{staticClass:"m-span-label"},[e._v("止孔深度(m)：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.zhikong_depth))])]),e._v(" "),a("div",{staticClass:"m-smallTitle"},[e._v("4、钻进操作记录")]),e._v(" "),a("div",{attrs:{id:"drillOperateRecordList"}},[a("Table",{ref:"operateRecordTable",style:"left:"+e.tableLeftEdge+"px;",attrs:{size:"large",border:"",width:e.tableRealWidth,columns:e.table_column_arr,data:e.table_data_arr,"disabled-hover":""}})],1),e._v(" "),a("div",{staticClass:"m-smallTitle",staticStyle:{"padding-top":"30px"}},[e._v("【附件】：拍摄照片列表")]),e._v(" "),a("div",{staticClass:"m-picList"},[e._l(e.alreadyUploadedImagesList,function(t,i){return a("div",{staticClass:"m-picSingleInfoLine",attrs:{id:"pic_"+(i+1)}},[a("span",{staticClass:"m-picfilename"},[e._v(e._s(i+1)+"、图片说明："+e._s(""==t.comment?"（无）":t.comment))]),e._v(" "),a("span",{staticClass:"m-viewpic"},[a("Button",{attrs:{size:"small",type:"success"},on:{click:function(t){e.openViewOneImage(i)}}},[e._v("点击打开图片")])],1)])}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.alreadyUploadedImagesList.length,expression:"alreadyUploadedImagesList.length==0"}],staticStyle:{"margin-top":"-30px","padding-bottom":"20px"}},[e._v("（没有上传照片）")])],2),e._v(" "),a("div",{staticClass:"m-placeholder"},[e._v("  ")]),e._v(" "),a("hr",{staticStyle:{position:"relative","margin-bottom":"20px",height:"2px",border:"none","border-top":"1px dashed gray"}}),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("钻孔负责人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.drill_person_name))])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("记录人：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.record_person_name))])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-single-line"},[a("span",{staticClass:"m-span-label-long"},[e._v("采样单位的内审签名：")]),e._v(" "),a("span",{staticClass:"m-realFieldValue"},[e._v(e._s(e.neishen_signature))])]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"m-inscribe-date"},[e._v("填表日期：\n      "),a("span",{staticStyle:{color:"#136BBD"}},[e._v(e._s(e.record_date))])]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticStyle:{"margin-top":"15px"},attrs:{id:"currentFillInStatusHintContainer"}},[a("Button",{attrs:{type:"primary",size:"large"},on:{click:e.readyForEditAgain}},[e._v("点击重新编辑")])],1),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("br")]),e._v(" "),a("Card",{directives:[{name:"show",rawName:"v-show",value:e.ifShowImageFlag,expression:"ifShowImageFlag"}],style:"background-color:#eeeeee;z-index:1001;width:"+e.imgShowContainerRealWidth+"px;height:"+e.imgShowContainerRealHeight+"px;position:fixed;top:50px;left:"+e.imgShowContainerEdgeW+"px;",attrs:{shadow:""}},[a("div",{staticStyle:{position:"relative"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticClass:"u-imgBasicInfo"},[e._v("图片文件名："+e._s(e.currentShowImageFileName)+"      "+e._s(e.currentShowImageDateTime))]),e._v(" "),a("span",{staticClass:"u-imgCloseBtn"},[a("Button",{attrs:{type:"primary"},on:{click:e.closeImageShow}},[e._v("关闭图片")])],1)]),e._v(" "),a("hr"),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticStyle:{position:"relative",clear:"both","text-align":"center",width:"auto"}},[a("img",{attrs:{id:"imgEntity",src:e.currentShowImageURL,width:e.imageRealShowWidth,height:e.imageRealShowHeight}})]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.imgSelfShowFlag,expression:"imgSelfShowFlag"}],staticStyle:{"margin-top":"10px","font-size":"16px","font-weight":"bold"}},[a("span",[e._v(e._s(e.currentShowImageComment))])]),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.imgSelfShowFlag,expression:"!imgSelfShowFlag"}],staticStyle:{"margin-top":"20px","font-size":"16px"}},[a("span",[e._v("图片正在加载中，请稍候......")])])]),e._v(" "),a("circleLoading",{directives:[{name:"show",rawName:"v-show",value:e.ifShowLoadingNowFlag,expression:"ifShowLoadingNowFlag"}],attrs:{id:"loadingEntityForViewSoilDrillRecord"}})],1)},staticRenderFns:[]};var O=a("VU/8")(j,T,!1,function(e){a("Ngx5"),a("h4As")},"data-v-4af46e72",null).exports;r.default.use(_.a);var D=new _.a({mode:"hash",routes:[{path:"/",redirect:"/main"},{path:"/main",name:"Main",component:u},{path:"/soil_entrance",name:"SoilEntrance",component:g},{path:"/water_entrance",name:"WaterEntrance",component:f},{path:"/soil_list/:id",name:"SoilList",component:y},{path:"/edit_soil_drill_record/:id",name:"EditSoilDrillRecord",component:M},{path:"/view_soil_drill_record/:id",name:"ViewSoilDrillRecord",component:O}]}),R=a("NYxO"),L=function(e,t){(0,e.commit)("LOADING",t)},F=function(e,t){(0,e.commit)("THEME",t)},k=function(e){return e.loading.loading},A=function(e){return e.theme.theme},E={state:{loading:!1},mutations:x()({},"LOADING",function(e,t){e.loading=t})},U={state:{theme:"light"},mutations:x()({},"THEME",function(e,t){e.theme=t})},B=(a("BO1k"),a("fZjL")),W=a.n(B),H=a("pFYg"),Y=a.n(H),P=function(e,t){return e.filter(t)[0]};function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===e||"object"!==(void 0===e?"undefined":Y()(e)))return e;var a=P(t,function(t){return t.original===e});if(a)return a.copy;var i=Array.isArray(e)?[]:{};return t.push({original:e,copy:i}),W()(e).forEach(function(a){i[a]=$(e[a],t)}),i}var V={mixin:function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a]);return e},d:function(e){return document.getElementById(e)},tranFirstLetterUpperPresent:function(e){if(""==e)return"";var t=e.slice(0,1),a=e.slice(1);return t.toUpperCase()+a},getCurrentDateAndTime:function(){var e=new Date,t=e.getMonth()+1,a=e.getDate(),i=e.getHours(),n=e.getMinutes();return t>=1&&t<=9&&(t="0"+t),a>=0&&a<=9&&(a="0"+a),i>=0&&i<=9&&(i="0"+i),n>=0&&n<=9&&(n="0"+n),e.getFullYear()+"-"+t+"-"+a+" "+i+":"+n}},Q=V;function Z(e,t){return a="0",i=t-e.toString().length,new Array(i+1).join(a)+e;var a,i}r.default.use(R.a);var G=new R.a.Store({actions:i,getters:n,modules:{loading:E,theme:U},strict:!0,plugins:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.collapsed,a=void 0===t||t,i=e.transformer,n=void 0===i?function(e){return e}:i,r=e.mutationTransformer,s=void 0===r?function(e){return e}:r;return function(e){var t=$(e.state);e.subscribe(function(e,i){if("undefined"!=typeof console){var r=$(i),l=new Date,o=" @ "+Z(l.getHours(),2)+":"+Z(l.getMinutes(),2)+":"+Z(l.getSeconds(),2)+"."+Z(l.getMilliseconds(),3),d=s(e),c="mutation "+e.type+o,_=a?console.groupCollapsed:console.group;try{_.call(console,c)}catch(e){console.log(c)}console.log("%c prev state","color: #9E9E9E; font-weight: bold",n(t)),console.log("%c mutation","color: #03A9F4; font-weight: bold",d),console.log("%c next state","color: #4CAF50; font-weight: bold",n(r));try{console.groupEnd()}catch(e){console.log("—— log end ——")}t=r}})}}()]}),J=a("mtWM"),q=a.n(J),K=a("zL8q"),X=a.n(K),ee=(a("tvR6"),a("TXmL")),te=a("BTaQ"),ae=a.n(te),ie=(a("+skl"),{render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{attrs:{id:"circleLoadingContainer"}},[t("div",{staticClass:"loadEffect"},[t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span"),this._v(" "),t("span")])])])}]});var ne=a("VU/8")(null,ie,!1,function(e){a("IZFU")},"data-v-76d1b294",null).exports,re={install:function(e){e.component("circleLoading",ne)}};a("4bFZ");r.default.use(ee.a),r.default.use(X.a),r.default.use(ae.a),r.default.use(re),r.default.config.productionTip=!1,D.beforeEach(function(e,t,a){e.meta.title&&(document.title=e.meta.title),a()}),D.afterEach(function(e){}),r.default.prototype.d=Q.d,r.default.prototype.tranFirstLetterUpperPresent=Q.tranFirstLetterUpperPresent,r.default.prototype.getCurrentDateAndTime=Q.getCurrentDateAndTime,r.default.prototype.axios=q.a,q.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",new r.default({el:"#app",router:D,store:G,components:{App:c},template:"<App/>"})},Ngx5:function(e,t){},RmeX:function(e,t){},UmLf:function(e,t){},"cH+4":function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNTAxNzU4NzMyNTUzIiBjbGFzcz0iaWNvbiIgc3R5bGU9IiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjQwNDkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iNjQiIGhlaWdodD0iNjQiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTUzNC42MzE1MzggNDUuMzk3MzMzYTI2Ljc0OTE1NiAyNi43NDkxNTYgMCAwIDAtMy42OTc3NzgtNDAuODkxNzMzYy0xMC44MDg4ODktNy42MDAzNTYtMjUuODE2MTc4LTUuMTY1NTExLTM1LjE1NzMzMyA0LjE4NzAyMkwzMjguMzE4MjkzIDE3Ni4xMTY2MjJjLTkuMTM2MzU2IDkuMTM2MzU2LTExLjM0MzY0NCAyMy42OTk5MTEtNC4wOTYgMzQuMzk1MDIyYTI2Ljc0OTE1NiAyNi43NDkxNTYgMCAwIDAgNDEuMTY0OCA0LjExODc1Nkw1MzQuNjMxNTM4IDQ1LjM5NzMzM3pNMjE0Ljg1OTA5MyAzNjUuMTY5Nzc4YTI2LjczNzc3OCAyNi43Mzc3NzggMCAwIDAtMzcuNzc0MjIyLTM3Ljc4NTZMNy44MjkwNDkgNDk2LjYwNTg2N2EyNi43NDkxNTYgMjYuNzQ5MTU2IDAgMCAwIDAgMzcuNzk2OTc3IDI2LjczNzc3OCAyNi43Mzc3NzggMCAwIDAgMzcuNzg1NiAwbDE2OS4yMzMwNjctMTY5LjIzMzA2NnpNNjEyLjQ2NjkxNiAxMjMuMjIxMzMzYTI2LjcxNTAyMiAyNi43MTUwMjIgMCAwIDAtMzcuNzg1Ni0zNy43ODU2TDQwNS40NDgyNDkgMjU0LjY4MDE3OGEyNi43Mzc3NzggMjYuNzM3Nzc4IDAgMCAwIDAgMzcuNzc0MjIyIDI2LjczNzc3OCAyNi43Mzc3NzggMCAwIDAgMzcuNzg1NiAwbDE2OS4yMzMwNjctMTY5LjIyMTY4OXpNMjkyLjY5NDQ3MSA0NDIuOTkzNzc4YTI2LjcxNTAyMiAyNi43MTUwMjIgMCAwIDAtMzcuNzg1Ni0zNy43ODU2TDg1LjY3NTgwNCA1NzQuNDUyNjIyYTI2LjczNzc3OCAyNi43Mzc3NzggMCAwIDAgMCAzNy43OTY5NzggMjYuNzM3Nzc4IDI2LjczNzc3OCAwIDAgMCAzNy43ODU2IDBsMTY5LjIzMzA2Ny0xNjkuMjQ0NDQ0eiBtNDA0LjQ4LTIzNS4wNjQ4ODlhMjYuNzE1MDIyIDI2LjcxNTAyMiAwIDAgMC0zNy43ODU2LTM3Ljc3NDIyMmwtNDg5LjAxNjg4OSA0ODguOTk0MTMzYTI2LjczNzc3OCAyNi43Mzc3NzggMCAwIDAgMCAzNy43ODU2IDI2LjczNzc3OCAyNi43Mzc3NzggMCAwIDAgMzcuNzk2OTc4IDBsNDg5LjAwNTUxMS00ODkuMDA1NTExeiBtMTU1LjY3MDc1NiAxNTUuNjcwNzU1YTI2LjcxNTAyMiAyNi43MTUwMjIgMCAwIDAtMzcuNzg1Ni0zNy43ODU2bC00ODkuMDE2ODg5IDQ4OC45OTQxMzRhMjYuNzQ5MTU2IDI2Ljc0OTE1NiAwIDAgMCAwIDM3Ljc5Njk3OCAyNi43Mzc3NzggMjYuNzM3Nzc4IDAgMCAwIDM3Ljc5Njk3OCAwbDQ4OS4wMDU1MTEtNDg5LjAwNTUxMnogbS0xODkuNjMzNDIzIDMzLjk2MjY2N2EyNi43MTUwMjIgMjYuNzE1MDIyIDAgMCAwLTM3Ljc4NTYtMzcuNzg1NmwtMjcxLjU4NzU1NSAyNzEuNTg3NTU2YTI2Ljc0OTE1NiAyNi43NDkxNTYgMCAwIDAgMCAzNy43ODU2IDI2LjczNzc3OCAyNi43Mzc3NzggMCAwIDAgMzcuNzc0MjIyIDBsMjcxLjU4NzU1Ni0yNzEuNTg3NTU2eiBtMjc0LjMyOTYgNTAuNzQ0ODg5YTI2LjcxNTAyMiAyNi43MTUwMjIgMCAwIDAtMzcuNzg1Ni0zNy43ODU2TDczMC41MjI3MzggNTc5Ljc0MzI4OWEyNi43Mzc3NzggMjYuNzM3Nzc4IDAgMCAwIDM3Ljc4NTYgMzcuNzk2OTc4TDkzNy41NTI3ODIgNDQ4LjMwNzJ6TTYxNy43Njg5NiA3NjguMDc5NjQ0YTI2LjcxNTAyMiAyNi43MTUwMjIgMCAwIDAtMzcuNzg1Ni0zNy43ODU2TDQxMC43NjE2NzEgODk5LjUyNzExMWEyNi43Mzc3NzggMjYuNzM3Nzc4IDAgMCAwIDAgMzcuNzc0MjIyIDI2LjczNzc3OCAyNi43Mzc3NzggMCAwIDAgMzcuNzg1NiAwbDE2OS4yMzMwNjctMTY5LjIyMTY4OXpNMTAxNS4zNzY3ODIgNTI2LjE0MjU3OGEyNi43MTUwMjIgMjYuNzE1MDIyIDAgMCAwLTM3Ljc4NTYtMzcuNzg1Nkw4MDguMzU4MTE2IDY1Ny41OTAwNDRhMjYuNzE1MDIyIDI2LjcxNTAyMiAwIDAgMCAzNy43ODU2IDM3Ljc3NDIyM0wxMDE1LjM3Njc4MiA1MjYuMTUzOTU2ek02OTUuNjA0MzM4IDg0NS45MTUwMjJhMjYuNzE1MDIyIDI2LjcxNTAyMiAwIDAgMC0zNy43ODU2LTM3Ljc4NTZMNDg4LjU4NTY3MSA5NzcuMzUxMTExYTI2LjcxNTAyMiAyNi43MTUwMjIgMCAwIDAgMzcuNzg1NiAzNy43NzQyMjJsMTY5LjIzMzA2Ny0xNjkuMjIxNjg5eiIgZmlsbD0iI2ZmZmZmZiIgcC1pZD0iNDA1MCI+PC9wYXRoPjwvc3ZnPg=="},g9nC:function(e,t){},h4As:function(e,t){},tvR6:function(e,t){},vSPT:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.8053778360a525bbd820.js.map